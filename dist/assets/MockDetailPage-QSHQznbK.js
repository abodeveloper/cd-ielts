import{u as v,r,j as e}from"./index-DCOFZdkl.js";import{B as g}from"./button-CJmDKSm7.js";import{C as P,b as k,c as E}from"./card-BNV1fjx2.js";import{C as F}from"./card-list-BiM0mlAk.js";import{I as M}from"./input-Cu_XGc4-.js";import{u as S,E as I}from"./ErrorMessage-CjXSFoQr.js";import{u as L}from"./useDebounce-BAXTfq-d.js";import{b as $}from"./helper-DHn6dyFE.js";import{c as z,b as D,_ as Q,h as T}from"./index-C-ywvi3k.js";import{l as i}from"./lodash-Cljd8h8O.js";import{f as _}from"./test-material-4SahOxXN.js";import"./index-BKv6cBc6.js";import"./index-BdrbzQWw.js";import"./utils-CPYLdFy8.js";import"./LoadingSpinner-BYEw7_CK.js";import"./createLucideIcon-CkTYkncT.js";import"./chevron-right-BwI-xtrY.js";function te(){const t=v(),[n,m]=r.useState(1),[p,u]=r.useState(""),o=L(p),x=r.useMemo(()=>({}),[]),d=$(x),{data:l,isLoading:h,isFetching:f,isError:j}=S({queryKey:["test-materials/mock",n,o,"",d],queryFn:()=>_(n,o,"",d)}),y=i.get(l,"results",[]),c={totalCount:i.get(l,"count",0),totalPages:i.get(l,"total_pages",1),currentPage:n};if(r.useEffect(()=>{m(1)},[o]),j)return e.jsx(I,{title:"Failed to Load page",message:"An error occurred while loading the page. Please try again later."});const N=s=>{m(s)},C=(s,w)=>{const b=i.get(s,"materials",[]);return e.jsxs(P,{className:"p-6 space-y-4",children:[e.jsx(k,{className:"text-base font-medium",children:s.title}),e.jsx(E,{className:"space-y-2 p-0 pt-2",children:b?.map(a=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{className:"pointer-events-none",variant:"outline",size:"icon",children:a.type==="reading"?e.jsx(z,{className:"h-6 w-6"}):a.type==="listening"?e.jsx(D,{className:"h-6 w-6"}):a.type==="writing"?e.jsx(Q,{className:"h-6 w-6"}):e.jsx(T,{className:"h-6 w-6"})}),e.jsx(g,{variant:"outline",size:"sm",className:"w-full text-left",onClick:()=>{switch(a.type){case"listening":t(`/listenings/${a.id}`);break;case"reading":t(`/readings/${a.id}`);break;case"writing":t(`/writings/${a.id}`);break;case"speaking":t(`/speakings/${a.id}`);break}},children:a.title})]},a.id))})]},s.id||w)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("div",{className:"text-xl font-semibold",children:"Test materials - Mock"}),e.jsx("div",{className:"flex gap-2",children:e.jsx(M,{placeholder:"Search ...",value:p,onChange:s=>u(s.target.value),className:"max-w-sm w-64"})})]}),e.jsx("div",{className:"space-y-4",children:e.jsx(F,{data:y,renderCard:C,pagination:!0,pageSize:9,totalCount:c.totalCount,totalPages:c.totalPages,currentPage:c.currentPage,onPageChange:N,isLoading:h||f,columnsPerRow:3})})]})}export{te as default};
