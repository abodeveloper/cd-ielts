import{a as je,j as k,c as He,R as Fe,r as N,h as ae,f as Ae,n as Ge,t as Ue}from"./index-CGz7kFpt.js";import{B as oe}from"./button-BXvCQrzc.js";import{C as Be,a as Xe,c as qe,d as ze}from"./card-D3gurF0g.js";import{C as Ve,R as We,_ as $e,i as ke,M as Ye}from"./index-MqYuSQRa.js";import{l as se}from"./lodash-DX7nIOvF.js";function gt({onNext:t}){const{user:a}=je();return k.jsx("div",{className:"flex items-center justify-center min-h-screen bg-muted w-full",children:k.jsxs(Be,{className:"w-full max-w-lg shadow-lg",children:[k.jsxs(Xe,{className:"flex items-center space-x-2",children:[k.jsx(Ve,{className:"w-12 h-12"}),k.jsx("h1",{className:"scroll-m-20 text-center text-lg font-extrabold tracking-tight text-balance",children:"Confirm your details"})]}),k.jsxs(qe,{className:"space-y-8",children:[k.jsxs("div",{className:"space-y-3",children:[k.jsxs("p",{children:[k.jsx("strong",{children:"Name:"})," ",se.get(a,"full_name")]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Phone number:"})," ",se.get(a,"phone")]})]}),k.jsxs("div",{className:"flex flex-wrap gap-2 items-center text-center md:flex-row md:items-center md:text-left",children:[k.jsx(We,{}),k.jsx("span",{children:"If your details are not correct, please"}),k.jsx(He,{to:a?.role===Fe.TEACHER?"/teacher/profile":"/student/profile",className:"text-blue-600 flex gap-2 items-center",children:"update your profile."})]})]}),k.jsx(ze,{children:k.jsx(oe,{className:"w-full",onClick:t,children:"My details are correct"})})]})})}function mt({steps:t}){const[a,p]=N.useState(0),[c,f]=N.useState({}),m=s=>{a<t.length-1&&(s&&f(r=>({...r,...s})),p(r=>r+1))};N.useEffect(()=>{const r=t[a]?.props?.disableOverflow??!1;return r||(document.body.style.overflow="hidden"),()=>{r||(document.body.style.overflow="auto")}},[a,t]);const y=t[a];return k.jsx("div",{children:ae.isValidElement(y)&&ae.cloneElement(y,{onNext:m,formData:c})})}var $={},z={},ee={},X={},q={},re={},le;function Ne(){return le||(le=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var a;(function(c){c.Root="root",c.Text="text",c.Directive="directive",c.Comment="comment",c.Script="script",c.Style="style",c.Tag="tag",c.CDATA="cdata",c.Doctype="doctype"})(a=t.ElementType||(t.ElementType={}));function p(c){return c.type===a.Tag||c.type===a.Script||c.type===a.Style}t.isTag=p,t.Root=a.Root,t.Text=a.Text,t.Directive=a.Directive,t.Comment=a.Comment,t.Script=a.Script,t.Style=a.Style,t.Tag=a.Tag,t.CDATA=a.CDATA,t.Doctype=a.Doctype}(re)),re}var A={},ce;function ue(){if(ce)return A;ce=1;var t=A&&A.__extends||function(){var e=function(i,l){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,v){u.__proto__=v}||function(u,v){for(var R in v)Object.prototype.hasOwnProperty.call(v,R)&&(u[R]=v[R])},e(i,l)};return function(i,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");e(i,l);function u(){this.constructor=i}i.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}}(),a=A&&A.__assign||function(){return a=Object.assign||function(e){for(var i,l=1,u=arguments.length;l<u;l++){i=arguments[l];for(var v in i)Object.prototype.hasOwnProperty.call(i,v)&&(e[v]=i[v])}return e},a.apply(this,arguments)};Object.defineProperty(A,"__esModule",{value:!0}),A.cloneNode=A.hasChildren=A.isDocument=A.isDirective=A.isComment=A.isText=A.isCDATA=A.isTag=A.Element=A.Document=A.CDATA=A.NodeWithChildren=A.ProcessingInstruction=A.Comment=A.Text=A.DataNode=A.Node=void 0;var p=Ne(),c=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(i){this.parent=i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(i){this.prev=i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(i){this.next=i},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(i){return i===void 0&&(i=!1),D(this,i)},e}();A.Node=c;var f=function(e){t(i,e);function i(l){var u=e.call(this)||this;return u.data=l,u}return Object.defineProperty(i.prototype,"nodeValue",{get:function(){return this.data},set:function(l){this.data=l},enumerable:!1,configurable:!0}),i}(c);A.DataNode=f;var m=function(e){t(i,e);function i(){var l=e!==null&&e.apply(this,arguments)||this;return l.type=p.ElementType.Text,l}return Object.defineProperty(i.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),i}(f);A.Text=m;var y=function(e){t(i,e);function i(){var l=e!==null&&e.apply(this,arguments)||this;return l.type=p.ElementType.Comment,l}return Object.defineProperty(i.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),i}(f);A.Comment=y;var s=function(e){t(i,e);function i(l,u){var v=e.call(this,u)||this;return v.name=l,v.type=p.ElementType.Directive,v}return Object.defineProperty(i.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),i}(f);A.ProcessingInstruction=s;var r=function(e){t(i,e);function i(l){var u=e.call(this)||this;return u.children=l,u}return Object.defineProperty(i.prototype,"firstChild",{get:function(){var l;return(l=this.children[0])!==null&&l!==void 0?l:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"childNodes",{get:function(){return this.children},set:function(l){this.children=l},enumerable:!1,configurable:!0}),i}(c);A.NodeWithChildren=r;var n=function(e){t(i,e);function i(){var l=e!==null&&e.apply(this,arguments)||this;return l.type=p.ElementType.CDATA,l}return Object.defineProperty(i.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),i}(r);A.CDATA=n;var o=function(e){t(i,e);function i(){var l=e!==null&&e.apply(this,arguments)||this;return l.type=p.ElementType.Root,l}return Object.defineProperty(i.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),i}(r);A.Document=o;var h=function(e){t(i,e);function i(l,u,v,R){v===void 0&&(v=[]),R===void 0&&(R=l==="script"?p.ElementType.Script:l==="style"?p.ElementType.Style:p.ElementType.Tag);var M=e.call(this,v)||this;return M.name=l,M.attribs=u,M.type=R,M}return Object.defineProperty(i.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tagName",{get:function(){return this.name},set:function(l){this.name=l},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"attributes",{get:function(){var l=this;return Object.keys(this.attribs).map(function(u){var v,R;return{name:u,value:l.attribs[u],namespace:(v=l["x-attribsNamespace"])===null||v===void 0?void 0:v[u],prefix:(R=l["x-attribsPrefix"])===null||R===void 0?void 0:R[u]}})},enumerable:!1,configurable:!0}),i}(r);A.Element=h;function b(e){return(0,p.isTag)(e)}A.isTag=b;function O(e){return e.type===p.ElementType.CDATA}A.isCDATA=O;function P(e){return e.type===p.ElementType.Text}A.isText=P;function _(e){return e.type===p.ElementType.Comment}A.isComment=_;function T(e){return e.type===p.ElementType.Directive}A.isDirective=T;function S(e){return e.type===p.ElementType.Root}A.isDocument=S;function w(e){return Object.prototype.hasOwnProperty.call(e,"children")}A.hasChildren=w;function D(e,i){i===void 0&&(i=!1);var l;if(P(e))l=new m(e.data);else if(_(e))l=new y(e.data);else if(b(e)){var u=i?L(e.children):[],v=new h(e.name,a({},e.attribs),u);u.forEach(function(E){return E.parent=v}),e.namespace!=null&&(v.namespace=e.namespace),e["x-attribsNamespace"]&&(v["x-attribsNamespace"]=a({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(v["x-attribsPrefix"]=a({},e["x-attribsPrefix"])),l=v}else if(O(e)){var u=i?L(e.children):[],R=new n(u);u.forEach(function(g){return g.parent=R}),l=R}else if(S(e)){var u=i?L(e.children):[],M=new o(u);u.forEach(function(g){return g.parent=M}),e["x-mode"]&&(M["x-mode"]=e["x-mode"]),l=M}else if(T(e)){var d=new s(e.name,e.data);e["x-name"]!=null&&(d["x-name"]=e["x-name"],d["x-publicId"]=e["x-publicId"],d["x-systemId"]=e["x-systemId"]),l=d}else throw new Error("Not implemented yet: ".concat(e.type));return l.startIndex=e.startIndex,l.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(l.sourceCodeLocation=e.sourceCodeLocation),l}A.cloneNode=D;function L(e){for(var i=e.map(function(u){return D(u,!0)}),l=1;l<i.length;l++)i[l].prev=i[l-1],i[l-1].next=i[l];return i}return A}var fe;function Oe(){return fe||(fe=1,function(t){var a=q&&q.__createBinding||(Object.create?function(s,r,n,o){o===void 0&&(o=n);var h=Object.getOwnPropertyDescriptor(r,n);(!h||("get"in h?!r.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(s,o,h)}:function(s,r,n,o){o===void 0&&(o=n),s[o]=r[n]}),p=q&&q.__exportStar||function(s,r){for(var n in s)n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n)&&a(r,s,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var c=Ne(),f=ue();p(ue(),t);var m={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},y=function(){function s(r,n,o){this.dom=[],this.root=new f.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof n=="function"&&(o=n,n=m),typeof r=="object"&&(n=r,r=void 0),this.callback=r??null,this.options=n??m,this.elementCB=o??null}return s.prototype.onparserinit=function(r){this.parser=r},s.prototype.onreset=function(){this.dom=[],this.root=new f.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},s.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},s.prototype.onerror=function(r){this.handleCallback(r)},s.prototype.onclosetag=function(){this.lastNode=null;var r=this.tagStack.pop();this.options.withEndIndices&&(r.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(r)},s.prototype.onopentag=function(r,n){var o=this.options.xmlMode?c.ElementType.Tag:void 0,h=new f.Element(r,n,void 0,o);this.addNode(h),this.tagStack.push(h)},s.prototype.ontext=function(r){var n=this.lastNode;if(n&&n.type===c.ElementType.Text)n.data+=r,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{var o=new f.Text(r);this.addNode(o),this.lastNode=o}},s.prototype.oncomment=function(r){if(this.lastNode&&this.lastNode.type===c.ElementType.Comment){this.lastNode.data+=r;return}var n=new f.Comment(r);this.addNode(n),this.lastNode=n},s.prototype.oncommentend=function(){this.lastNode=null},s.prototype.oncdatastart=function(){var r=new f.Text(""),n=new f.CDATA([r]);this.addNode(n),r.parent=n,this.lastNode=r},s.prototype.oncdataend=function(){this.lastNode=null},s.prototype.onprocessinginstruction=function(r,n){var o=new f.ProcessingInstruction(r,n);this.addNode(o)},s.prototype.handleCallback=function(r){if(typeof this.callback=="function")this.callback(r,this.dom);else if(r)throw r},s.prototype.addNode=function(r){var n=this.tagStack[this.tagStack.length-1],o=n.children[n.children.length-1];this.options.withStartIndices&&(r.startIndex=this.parser.startIndex),this.options.withEndIndices&&(r.endIndex=this.parser.endIndex),n.children.push(r),o&&(r.prev=o,o.next=r),r.parent=n,this.lastNode=null},s}();t.DomHandler=y,t.default=y}(q)),q}var ne={},de;function Ze(){return de||(de=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CARRIAGE_RETURN_PLACEHOLDER_REGEX=t.CARRIAGE_RETURN_PLACEHOLDER=t.CARRIAGE_RETURN_REGEX=t.CARRIAGE_RETURN=t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES=void 0,t.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES.reduce(function(a,p){return a[p.toLowerCase()]=p,a},{}),t.CARRIAGE_RETURN="\r",t.CARRIAGE_RETURN_REGEX=new RegExp(t.CARRIAGE_RETURN,"g"),t.CARRIAGE_RETURN_PLACEHOLDER="__HTML_DOM_PARSER_CARRIAGE_RETURN_PLACEHOLDER_".concat(Date.now(),"__"),t.CARRIAGE_RETURN_PLACEHOLDER_REGEX=new RegExp(t.CARRIAGE_RETURN_PLACEHOLDER,"g")}(ne)),ne}var he;function Pe(){if(he)return X;he=1,Object.defineProperty(X,"__esModule",{value:!0}),X.formatAttributes=c,X.escapeSpecialCharacters=m,X.revertEscapedCharacters=y,X.formatDOM=s;var t=Oe(),a=Ze();function p(r){return a.CASE_SENSITIVE_TAG_NAMES_MAP[r]}function c(r){for(var n={},o=0,h=r.length;o<h;o++){var b=r[o];n[b.name]=b.value}return n}function f(r){r=r.toLowerCase();var n=p(r);return n||r}function m(r){return r.replace(a.CARRIAGE_RETURN_REGEX,a.CARRIAGE_RETURN_PLACEHOLDER)}function y(r){return r.replace(a.CARRIAGE_RETURN_PLACEHOLDER_REGEX,a.CARRIAGE_RETURN)}function s(r,n,o){n===void 0&&(n=null);for(var h=[],b,O=0,P=r.length;O<P;O++){var _=r[O];switch(_.nodeType){case 1:{var T=f(_.nodeName);b=new t.Element(T,c(_.attributes)),b.children=s(T==="template"?_.content.childNodes:_.childNodes,b);break}case 3:b=new t.Text(y(_.nodeValue));break;case 8:b=new t.Comment(_.nodeValue);break;default:continue}var S=h[O-1]||null;S&&(S.next=b),b.parent=n,b.prev=S,b.next=null,h.push(b)}return o&&(b=new t.ProcessingInstruction(o.substring(0,o.indexOf(" ")).toLowerCase(),o),b.next=h[0]||null,b.parent=n,h.unshift(b),h[1]&&(h[1].prev=h[0])),h}return X}var pe;function Je(){if(pe)return ee;pe=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=_;var t=Pe(),a="html",p="head",c="body",f=/<([a-zA-Z]+[0-9]?)/,m=/<head[^]*>/i,y=/<body[^]*>/i,s=function(T,S){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},r=function(T,S){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},n=typeof window=="object"&&window.DOMParser;if(typeof n=="function"){var o=new n,h="text/html";r=function(T,S){return S&&(T="<".concat(S,">").concat(T,"</").concat(S,">")),o.parseFromString(T,h)},s=r}if(typeof document=="object"&&document.implementation){var b=document.implementation.createHTMLDocument();s=function(T,S){if(S){var w=b.documentElement.querySelector(S);return w&&(w.innerHTML=T),b}return b.documentElement.innerHTML=T,b}}var O=typeof document=="object"&&document.createElement("template"),P;O&&O.content&&(P=function(T){return O.innerHTML=T,O.content.childNodes});function _(T){var S,w;T=(0,t.escapeSpecialCharacters)(T);var D=T.match(f),L=D&&D[1]?D[1].toLowerCase():"";switch(L){case a:{var e=r(T);if(!m.test(T)){var i=e.querySelector(p);(S=i?.parentNode)===null||S===void 0||S.removeChild(i)}if(!y.test(T)){var i=e.querySelector(c);(w=i?.parentNode)===null||w===void 0||w.removeChild(i)}return e.querySelectorAll(a)}case p:case c:{var l=s(T).querySelectorAll(L);return y.test(T)&&m.test(T)?l[0].parentNode.childNodes:l}default:{if(P)return P(T);var i=s(T,c).querySelector(c);return i.childNodes}}}return ee}var ge;function Qe(){if(ge)return z;ge=1;var t=z&&z.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(z,"__esModule",{value:!0}),z.default=f;var a=t(Je()),p=Pe(),c=/<(![a-zA-Z\s]+)>/;function f(m){if(typeof m!="string")throw new TypeError("First argument must be a string");if(!m)return[];var y=m.match(c),s=y?y[1]:void 0;return(0,p.formatDOM)((0,a.default)(m),null,s)}return z}var te={},G={},Y={},me;function Ke(){if(me)return Y;me=1;var t=0;Y.SAME=t;var a=1;return Y.CAMELCASE=a,Y.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1},Y}var ve;function et(){if(ve)return G;ve=1;const t=0,a=1,p=2,c=3,f=4,m=5,y=6;function s(e){return n.hasOwnProperty(e)?n[e]:null}function r(e,i,l,u,v,R,M){this.acceptsBooleans=i===p||i===c||i===f,this.attributeName=u,this.attributeNamespace=v,this.mustUseProperty=l,this.propertyName=e,this.type=i,this.sanitizeURL=R,this.removeEmptyString=M}const n={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach(e=>{n[e]=new r(e,t,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([e,i])=>{n[e]=new r(e,a,!1,i,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(e=>{n[e]=new r(e,p,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(e=>{n[e]=new r(e,p,!1,e,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(e=>{n[e]=new r(e,c,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(e=>{n[e]=new r(e,c,!0,e,null,!1,!1)}),["capture","download"].forEach(e=>{n[e]=new r(e,f,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(e=>{n[e]=new r(e,y,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(e=>{n[e]=new r(e,m,!1,e.toLowerCase(),null,!1,!1)});const h=/[\-\:]([a-z])/g,b=e=>e[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(e=>{const i=e.replace(h,b);n[i]=new r(i,a,!1,e,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(e=>{const i=e.replace(h,b);n[i]=new r(i,a,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(e=>{const i=e.replace(h,b);n[i]=new r(i,a,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(e=>{n[e]=new r(e,a,!1,e.toLowerCase(),null,!1,!1)});const O="xlinkHref";n[O]=new r("xlinkHref",a,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(e=>{n[e]=new r(e,a,!1,e.toLowerCase(),null,!0,!0)});const{CAMELCASE:P,SAME:_,possibleStandardNames:T}=Ke(),w=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD"+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",D=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+w+"]*$")),L=Object.keys(T).reduce((e,i)=>{const l=T[i];return l===_?e[i]=i:l===P?e[i.toLowerCase()]=i:e[i]=l,e},{});return G.BOOLEAN=c,G.BOOLEANISH_STRING=p,G.NUMERIC=m,G.OVERLOADED_BOOLEAN=f,G.POSITIVE_NUMERIC=y,G.RESERVED=t,G.STRING=a,G.getPropertyInfo=s,G.isCustomAttribute=D,G.possibleStandardNames=L,G}var Z={},V={},ie,Ee;function tt(){if(Ee)return ie;Ee=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,a=/\n/g,p=/^\s*/,c=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,f=/^:\s*/,m=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,y=/^[;\s]*/,s=/^\s+|\s+$/g,r=`
`,n="/",o="*",h="",b="comment",O="declaration";ie=function(_,T){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];T=T||{};var S=1,w=1;function D(E){var g=E.match(a);g&&(S+=g.length);var C=E.lastIndexOf(r);w=~C?E.length-C:w+E.length}function L(){var E={line:S,column:w};return function(g){return g.position=new e(E),u(),g}}function e(E){this.start=E,this.end={line:S,column:w},this.source=T.source}e.prototype.content=_;function i(E){var g=new Error(T.source+":"+S+":"+w+": "+E);if(g.reason=E,g.filename=T.source,g.line=S,g.column=w,g.source=_,!T.silent)throw g}function l(E){var g=E.exec(_);if(g){var C=g[0];return D(C),_=_.slice(C.length),g}}function u(){l(p)}function v(E){var g;for(E=E||[];g=R();)g!==!1&&E.push(g);return E}function R(){var E=L();if(!(n!=_.charAt(0)||o!=_.charAt(1))){for(var g=2;h!=_.charAt(g)&&(o!=_.charAt(g)||n!=_.charAt(g+1));)++g;if(g+=2,h===_.charAt(g-1))return i("End of comment missing");var C=_.slice(2,g-2);return w+=2,D(C),_=_.slice(g),w+=2,E({type:b,comment:C})}}function M(){var E=L(),g=l(c);if(g){if(R(),!l(f))return i("property missing ':'");var C=l(m),x=E({type:O,property:P(g[0].replace(t,h)),value:C?P(C[0].replace(t,h)):h});return l(y),x}}function d(){var E=[];v(E);for(var g;g=M();)g!==!1&&(E.push(g),v(E));return E}return u(),d()};function P(_){return _?_.replace(s,h):h}return ie}var ye;function rt(){if(ye)return V;ye=1;var t=V&&V.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(V,"__esModule",{value:!0}),V.default=p;var a=t(tt());function p(c,f){var m=null;if(!c||typeof c!="string")return m;var y=(0,a.default)(c),s=typeof f=="function";return y.forEach(function(r){if(r.type==="declaration"){var n=r.property,o=r.value;s?f(n,o,r):o&&(m=m||{},m[n]=o)}}),m}return V}var J={},be;function nt(){if(be)return J;be=1,Object.defineProperty(J,"__esModule",{value:!0}),J.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,a=/-([a-z])/g,p=/^[^-]+$/,c=/^-(webkit|moz|ms|o|khtml)-/,f=/^-(ms)-/,m=function(n){return!n||p.test(n)||t.test(n)},y=function(n,o){return o.toUpperCase()},s=function(n,o){return"".concat(o,"-")},r=function(n,o){return o===void 0&&(o={}),m(n)?n:(n=n.toLowerCase(),o.reactCompat?n=n.replace(f,s):n=n.replace(c,s),n.replace(a,y))};return J.camelCase=r,J}var Q,Te;function it(){if(Te)return Q;Te=1;var t=Q&&Q.__importDefault||function(f){return f&&f.__esModule?f:{default:f}},a=t(rt()),p=nt();function c(f,m){var y={};return!f||typeof f!="string"||(0,a.default)(f,function(s,r){s&&r&&(y[(0,p.camelCase)(s,m)]=r)}),y}return c.default=c,Q=c,Q}var _e;function Ie(){return _e||(_e=1,function(t){var a=Z&&Z.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0}),t.returnFirstArg=t.canTextBeChildOfNode=t.ELEMENTS_WITH_NO_TEXT_CHILDREN=t.PRESERVE_CUSTOM_ATTRIBUTES=void 0,t.isCustomComponent=m,t.setStyleProp=s;var p=Ae(),c=a(it()),f=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function m(o,h){return o.includes("-")?!f.has(o):!!(h&&typeof h.is=="string")}var y={reactCompat:!0};function s(o,h){if(typeof o=="string"){if(!o.trim()){h.style={};return}try{h.style=(0,c.default)(o,y)}catch{h.style={}}}}t.PRESERVE_CUSTOM_ATTRIBUTES=Number(p.version.split(".")[0])>=16,t.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var r=function(o){return!t.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(o.name)};t.canTextBeChildOfNode=r;var n=function(o){return o};t.returnFirstArg=n}(Z)),Z}var Ce;function De(){if(Ce)return te;Ce=1,Object.defineProperty(te,"__esModule",{value:!0}),te.default=m;var t=et(),a=Ie(),p=["checked","value"],c=["input","select","textarea"],f={reset:!0,submit:!0};function m(s,r){s===void 0&&(s={});var n={},o=!!(s.type&&f[s.type]);for(var h in s){var b=s[h];if((0,t.isCustomAttribute)(h)){n[h]=b;continue}var O=h.toLowerCase(),P=y(O);if(P){var _=(0,t.getPropertyInfo)(P);switch(p.includes(P)&&c.includes(r)&&!o&&(P=y("default"+O)),n[P]=b,_&&_.type){case t.BOOLEAN:n[P]=!0;break;case t.OVERLOADED_BOOLEAN:b===""&&(n[P]=!0);break}continue}a.PRESERVE_CUSTOM_ATTRIBUTES&&(n[h]=b)}return(0,a.setStyleProp)(s.style,n),n}function y(s){return t.possibleStandardNames[s]}return te}var W={},we;function ot(){if(we)return W;we=1;var t=W&&W.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(W,"__esModule",{value:!0}),W.default=m;var a=Ae(),p=t(De()),c=Ie(),f={cloneElement:a.cloneElement,createElement:a.createElement,isValidElement:a.isValidElement};function m(s,r){r===void 0&&(r={});for(var n=[],o=typeof r.replace=="function",h=r.transform||c.returnFirstArg,b=r.library||f,O=b.cloneElement,P=b.createElement,_=b.isValidElement,T=s.length,S=0;S<T;S++){var w=s[S];if(o){var D=r.replace(w,S);if(_(D)){T>1&&(D=O(D,{key:D.key||S})),n.push(h(D,w,S));continue}}if(w.type==="text"){var L=!w.data.trim().length;if(L&&w.parent&&!(0,c.canTextBeChildOfNode)(w.parent)||r.trim&&L)continue;n.push(h(w.data,w,S));continue}var e=w,i={};y(e)?((0,c.setStyleProp)(e.attribs.style,e.attribs),i=e.attribs):e.attribs&&(i=(0,p.default)(e.attribs,e.name));var l=void 0;switch(w.type){case"script":case"style":w.children[0]&&(i.dangerouslySetInnerHTML={__html:w.children[0].data});break;case"tag":w.name==="textarea"&&w.children[0]?i.defaultValue=w.children[0].data:w.children&&w.children.length&&(l=m(w.children,r));break;default:continue}T>1&&(i.key=S),n.push(h(P(w.name,i,l),w,S))}return n.length===1?n[0]:n}function y(s){return c.PRESERVE_CUSTOM_ATTRIBUTES&&s.type==="tag"&&(0,c.isCustomComponent)(s.name,s.attribs)}return W}var Re;function at(){return Re||(Re=1,function(t){var a=$&&$.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(t,"__esModule",{value:!0}),t.htmlToDOM=t.domToReact=t.attributesToProps=t.Text=t.ProcessingInstruction=t.Element=t.Comment=void 0,t.default=s;var p=a(Qe());t.htmlToDOM=p.default;var c=a(De());t.attributesToProps=c.default;var f=a(ot());t.domToReact=f.default;var m=Oe();Object.defineProperty(t,"Comment",{enumerable:!0,get:function(){return m.Comment}}),Object.defineProperty(t,"Element",{enumerable:!0,get:function(){return m.Element}}),Object.defineProperty(t,"ProcessingInstruction",{enumerable:!0,get:function(){return m.ProcessingInstruction}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return m.Text}});var y={lowerCaseAttributeNames:!1};function s(r,n){if(typeof r!="string")throw new TypeError("First argument must be a string");return r?(0,f.default)((0,p.default)(r,n?.htmlparser2||y),n):[]}}($)),$}var Me=at();const xe=Ge(Me),st=xe.default||xe,Se=t=>t&&t.replace(/\r\n/g,"<br>").replace(/\n/g,"<br>"),lt=t=>t&&(t.includes("<")?t.replace(/>([^<]*?)</g,(a,p)=>p.trim()?`>${Se(p)}<`:a):Se(t)),ct=({src:t,alt:a,style:p,className:c})=>{const f=N.useRef(null),m=N.useRef(null),y=N.useRef(null),[s,r]=N.useState(!1),[n,o]=N.useState(!1),[h,b]=N.useState(!1),[O,P]=N.useState("black");N.useEffect(()=>{const u=m.current,v=y.current;if(!u||!v)return;const R=u.getContext("2d");if(!R)return;const M=()=>{if(v&&u){const g=v.getBoundingClientRect(),C=window.devicePixelRatio||1,x=R.globalCompositeOperation,I=R.lineWidth,j=R.strokeStyle;u.width=g.width*C,u.height=g.height*C,u.style.width=`${g.width}px`,u.style.height=`${g.height}px`,R.setTransform(1,0,0,1,0,0),R.scale(C,C),R.globalCompositeOperation=x,R.lineWidth=I,R.strokeStyle=j,R.lineCap="round",R.lineJoin="round"}},d=()=>{M()};v.complete?d():v.addEventListener("load",d);const E=new ResizeObserver(()=>{M()});return v&&E.observe(v),()=>{v.removeEventListener("load",d),E.disconnect()}},[t]),N.useEffect(()=>{const u=m.current;if(!u)return;const v=u.getContext("2d");if(v)if(h)v.globalCompositeOperation="destination-out",v.lineWidth=20,v.lineCap="round",v.lineJoin="round";else{v.globalCompositeOperation="source-over";const R={black:"#000000",red:"#ff0000",yellow:"#ffeb3b"};v.strokeStyle=R[O],v.lineWidth=5,v.lineCap="round",v.lineJoin="round"}},[h,O]);const _=u=>{const v=m.current;if(!v)return{x:0,y:0};const R=v.getBoundingClientRect(),M="touches"in u?u.touches[0]?.clientX||0:u.clientX,d="touches"in u?u.touches[0]?.clientY||0:u.clientY;return{x:M-R.left-2,y:d-R.top-4}},T=u=>{u.preventDefault(),o(!0),r(!0);const v=m.current,R=v?.getContext("2d");if(!v||!R)return;const{x:M,y:d}=_(u);R.beginPath(),R.moveTo(M,d)},S=u=>{if(!s)return;u.preventDefault();const v=m.current,R=v?.getContext("2d");if(!v||!R)return;const{x:M,y:d}=_(u);R.lineTo(M,d),R.stroke()},w=u=>{u&&u.preventDefault(),r(!1)},D=()=>{o(!1),r(!1)},L=()=>{o(!0)},l=h?"url('data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%2224%22 height=%2224%22 viewBox=%220 0 24 24%22 fill=%22none%22 stroke=%22%23ff0000%22 stroke-width=%222%22><rect x=%223%22 y=%223%22 width=%2218%22 height=%2218%22 rx=%222%22/><path d=%22M8 8l8 8M16 8l-8 8%22/></svg>') 12 12, auto":"url('data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%2224%22 height=%2224%22 viewBox=%220 0 24 24%22 fill=%22none%22 stroke=%22%23000%22 stroke-width=%222%22><path d=%22M12 19l7-7 3 3-7 7-3-3z%22/><path d=%22M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z%22/><path d=%22M2 2l7.586 7.586%22/><path d=%22M11 11l2 2%22/></svg>') 12 6, auto";return k.jsxs("div",{className:"relative inline-block",children:[k.jsxs("div",{ref:f,className:"relative inline-block group",style:{cursor:n?l:"default"},onMouseEnter:L,onMouseLeave:D,children:[k.jsx("img",{ref:y,src:t,alt:a||"",style:p,className:c,draggable:!1}),k.jsx("canvas",{ref:m,className:"absolute top-0 left-0 pointer-events-auto",style:{cursor:n?l:"default"},onMouseDown:T,onMouseMove:S,onMouseUp:w,onMouseLeave:w,onTouchStart:T,onTouchMove:S,onTouchEnd:w})]}),k.jsxs("div",{className:"absolute top-0 right-0 -translate-y-full mb-2 flex items-center gap-2 bg-white/95 backdrop-blur-sm rounded-lg shadow-lg p-2 border border-gray-200",children:[!h&&k.jsxs("div",{className:"flex items-center gap-1.5",children:[k.jsx("button",{type:"button",onClick:u=>{u.preventDefault(),u.stopPropagation(),P("black")},className:`w-7 h-7 rounded-full border-2 transition-all hover:scale-110 ${O==="black"?"border-gray-900 scale-110 shadow-md ring-2 ring-gray-300":"border-gray-300 hover:border-gray-500"}`,style:{backgroundColor:"#000000"}}),k.jsx("button",{type:"button",onClick:u=>{u.preventDefault(),u.stopPropagation(),P("red")},className:`w-7 h-7 rounded-full border-2 transition-all hover:scale-110 ${O==="red"?"border-gray-900 scale-110 shadow-md ring-2 ring-red-200":"border-gray-300 hover:border-gray-500"}`,style:{backgroundColor:"#ff0000"}}),k.jsx("button",{type:"button",onClick:u=>{u.preventDefault(),u.stopPropagation(),P("yellow")},className:`w-7 h-7 rounded-full border-2 transition-all hover:scale-110 ${O==="yellow"?"border-gray-900 scale-110 shadow-md ring-2 ring-yellow-200":"border-gray-300 hover:border-gray-500"}`,style:{backgroundColor:"#ffeb3b"}})]}),k.jsx("button",{type:"button",onClick:u=>{u.preventDefault(),u.stopPropagation(),b(!h)},className:`p-2 rounded-md shadow-sm transition-all hover:scale-105 ${h?"bg-red-500 text-white hover:bg-red-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:h?k.jsx($e,{className:"w-4 h-4"}):k.jsx(ke,{className:"w-4 h-4"})})]})]})},vt=({htmlString:t,className:a="",enabledHighlight:p=!0,storageKey:c})=>{const f=N.useRef(null),[m,y]=N.useState(null),[s,r]=N.useState(null),[n,o]=N.useState(null),h=N.useRef(0),b=N.useRef(null),[O,P]=N.useState(t),_=N.useRef(!1),T=()=>Date.now().toString()+Math.random().toString(36).slice(2),S=d=>{if(!f.current)return[];const E=[],g=document.createTreeWalker(f.current,NodeFilter.SHOW_ELEMENT,{acceptNode(x){if(!(x instanceof HTMLElement))return NodeFilter.FILTER_REJECT;const I=window.getComputedStyle(x);return(I.display==="block"||I.display==="list-item"||I.display==="table"||["P","DIV","LI"].includes(x.tagName))&&d.intersectsNode(x)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}},!1);let C=g.nextNode();for(;C;)E.push(C),C=g.nextNode();return E},w=(d,E)=>{const g=d.extractContents(),C=document.createElement("span");C.className="highlight",C.dataset.highlightId=E,C.appendChild(g),d.insertNode(C),c&&f.current&&setTimeout(()=>{if(f.current)try{localStorage.setItem(`highlights_${c}`,f.current.innerHTML)}catch(x){console.warn("Failed to save highlights:",x)}},0)},D=()=>{if(!p||!m)return;const d=m.cloneRange(),E=T(),g=S(d);g.length===0?w(d,E):g.forEach(C=>{const x=document.createRange();let I=d.startContainer,j=d.startOffset,H=d.endContainer,F=d.endOffset;C.contains(I)||(I=C,j=0),C.contains(H)||(H=C,F=C.childNodes.length);try{x.setStart(I,j),x.setEnd(H,F),x.collapsed||w(x,E)}catch{}}),y(null),r(null),o(null)},L=N.useCallback(()=>{p&&(b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{const d=window.getSelection();if(d&&d.rangeCount>0&&f.current?.contains(d.anchorNode)){const E=d.getRangeAt(0),g=d.toString().trim();if(!E.collapsed&&g.length>0){const C=E.getBoundingClientRect();let x=E.commonAncestorContainer;x.nodeType===Node.TEXT_NODE&&(x=x.parentNode),x&&x.classList&&x.classList.contains("highlight")?(o(x),y(null)):(o(null),y(E));const I=window.innerWidth,j=200,H=50;let F=C.left+window.scrollX+C.width/2;F+j/2>I+window.scrollX?F=I+window.scrollX-j/2-10:F-j/2<window.scrollX&&(F=window.scrollX+j/2+10);let U=C.top+window.scrollY-H-35;U<window.scrollY&&(U=C.bottom+window.scrollY+35),r({x:F,y:U,width:j})}else y(null),o(null),r(null)}else y(null),o(null),r(null)},150))},[p]),e=N.useCallback(()=>{const d=Date.now();d-h.current<300||(h.current=d,L())},[L]),i=N.useCallback(()=>{L()},[L]);N.useEffect(()=>{if(!p)return;document.addEventListener("mouseup",e),document.addEventListener("dblclick",i);const d=E=>{f.current?.contains(E.target)||(o(null),r(null))};return document.body.addEventListener("click",d),()=>{document.removeEventListener("mouseup",e),document.removeEventListener("dblclick",i),document.body.removeEventListener("click",d),b.current&&clearTimeout(b.current)}},[e,i,p]);const l=d=>{d.stopPropagation();const E=d.currentTarget;o(E),y(null);const g=E.getBoundingClientRect(),C=window.innerWidth,x=200,I=50;let j=g.left+window.scrollX+g.width/2;j+x/2>C+window.scrollX?j=C+window.scrollX-x/2-10:j-x/2<window.scrollX&&(j=window.scrollX+x/2+10);let H=g.top+window.scrollY-I-35;H<window.scrollY&&(H=g.bottom+window.scrollY+35),r({x:j,y:H,width:x})},u=()=>{if(p){if(n){const d=n,E=d.parentNode;if(E){for(;d.firstChild;)E.insertBefore(d.firstChild,d);E.removeChild(d)}}else if(m&&!n){const d=m.cloneRange();if(!f.current)return;const E=[],g=document.createTreeWalker(f.current,NodeFilter.SHOW_ELEMENT,{acceptNode(x){return x instanceof HTMLElement&&x.classList.contains("highlight")&&d.intersectsNode(x)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}},!1);let C=g.nextNode();for(;C;)E.push(C),C=g.nextNode();E.forEach(x=>{const I=x.parentNode;if(I){for(;x.firstChild;)I.insertBefore(x.firstChild,x);I.removeChild(x)}})}c&&f.current&&setTimeout(()=>{if(f.current)try{localStorage.setItem(`highlights_${c}`,f.current.innerHTML)}catch(d){console.warn("Failed to save highlights:",d)}},0),y(null),o(null),r(null)}};N.useEffect(()=>{P(t),_.current=!1},[t]),N.useEffect(()=>{if(c&&f.current&&!_.current)try{const d=localStorage.getItem(`highlights_${c}`);d?setTimeout(()=>{if(f.current){const E=document.createElement("div");E.innerHTML=d;const g=E.querySelectorAll(".highlight");g.length>0&&g.forEach(C=>{const x=C.getAttribute("data-highlight-id"),I=C.textContent;if(I&&f.current){const j=document.createTreeWalker(f.current,NodeFilter.SHOW_TEXT,null);let H;for(;H=j.nextNode();){const U=(H.textContent||"").indexOf(I);if(U!==-1&&H.parentElement&&!H.parentElement.classList.contains("highlight"))try{const B=document.createRange();B.setStart(H,U),B.setEnd(H,U+I.length);const K=document.createElement("span");K.className="highlight",K.dataset.highlightId=x||Date.now().toString();const Le=B.extractContents();K.appendChild(Le),B.insertNode(K);break}catch{}}}})}_.current=!0},150):_.current=!0}catch(d){console.warn("Failed to restore highlights:",d),_.current=!0}},[c,O]);const v=typeof O=="string"&&O.trim().length>0?O:t,R=lt(v),M=st(R,{replace:d=>{if(d.type==="tag"&&d.name==="span"&&d.attribs&&d.attribs.class&&d.attribs.class.includes("highlight"))return N.createElement("span",{...d.attribs,onClick:l,style:{cursor:"pointer"},key:d.attribs["data-highlight-id"]||void 0},d.children&&Me.domToReact(d.children));if(d.type==="tag"&&d.name==="img"&&d.attribs){const{src:E,alt:g,style:C,className:x}=d.attribs;let I={};return C&&C.split(";").forEach(j=>{const[H,F]=j.split(":").map(U=>U.trim());if(H&&F){const U=H.replace(/-([a-z])/g,B=>B[1].toUpperCase());I[U]=F}}),k.jsx(ct,{src:E||"",alt:g||"",style:I,className:x||""},E||Math.random().toString())}}});return k.jsxs(k.Fragment,{children:[k.jsx("style",{children:`
        .highlight {
          background-color: #fde68a;
        }
      `}),k.jsx("div",{ref:f,className:`w-full text-sm text-[--foreground] ${a}
          [&_table]:w-full [&_table]:border-collapse
          [&_td]:border [&_td]:border-[--border] [&_td]:p-2
          [&_th]:border [&_th]:border-[--border] [&_th]:p-2
          [&_p]:mb-2 [&_p]:text-[--foreground]
          [&_h3]:text-lg [&_h3]:font-semibold [&_h3]:mb-2 [&_h3]:text-[--foreground]
          [&_strong]:font-bold [&_em]:italic select-text`,style:{userSelect:"text"},children:M}),p&&s&&(m||n)&&k.jsxs("div",{className:"absolute z-50 flex gap-2 rounded-lg border bg-muted p-2 shadow-lg -translate-x-1/2",style:{left:s.x,top:s.y},children:[!n&&k.jsxs(oe,{size:"sm",onClick:D,children:[k.jsx(Ye,{className:"mr-1 h-4 w-4"})," Highlight"]}),k.jsxs(oe,{size:"sm",variant:"destructive",onClick:u,disabled:!n&&!m,children:[k.jsx(ke,{className:"mr-1 h-4 w-4"})," Clear"]})]})]})},Et=(t,a,p,c=!0,f)=>{const[m,y]=N.useState(t),[s,r]=N.useState(!1),[n,o]=N.useState(""),h=N.useRef(null),b=N.useRef(null),O=N.useRef(!1),P=N.useRef(!1),_=()=>{b.current&&(clearInterval(b.current),b.current=null)};N.useEffect(()=>{t!==null?(h.current=Date.now()+t*1e3,y(t),O.current=!1):(h.current=null,y(null))},[t]),N.useEffect(()=>{if(t===null||s||!c&&!P.current)return;!P.current&&t!==null&&(h.current=Date.now()+t*1e3,y(t)),P.current=!0;const e=()=>{if(h.current===null)return;const i=Math.max(0,Math.round((h.current-Date.now())/1e3));y(i),i<=0&&!s&&!O.current&&(_(),O.current=!0,r(!0),Ue.error("The time limit has expired."),p(),f&&setTimeout(()=>{f()},100))};return e(),b.current=setInterval(e,1e3),()=>{(s||!P.current)&&_()}},[t,s,p,c]),N.useEffect(()=>{a.length>0&&!n&&o(`tab-${a[0].id}`)},[a,n]);const T=a.findIndex(e=>`tab-${e.id}`===n);return{timeLeft:m??0,formatTime:e=>`${Math.floor(e/60).toString().padStart(2,"0")}:${(e%60).toString().padStart(2,"0")}`,activeTab:n,setActiveTab:o,currentTabIndex:T,handlePrevious:()=>T>0&&o(`tab-${a[T-1].id}`),handleNext:()=>T<a.length-1&&o(`tab-${a[T+1].id}`),isTestFinished:s,finishTest:()=>{t!==null&&!s&&(_(),p(),r(!0))}}};export{gt as C,mt as F,vt as H,ct as I,Me as l,st as p,Et as u};
