import{e as F,u as $,j as e,c as p}from"./index-D-09amOr.js";import{B as t}from"./badge-Dffs_Ov9.js";import{C as d,a as x,b as m,c as r}from"./card-CMmmcuPU.js";import{T as I,a as A,b as j,c as u}from"./tabs-BdMqS6mZ.js";import{g as B}from"./test-material-CxzLXHDM.js";import{B as M}from"./BackButton-DjUFhrAc.js";import{u as N,E as V}from"./ErrorMessage-KlD2LGXF.js";import{L as W}from"./LoadingSpinner-Clj1yvjA.js";import{c as w,b as y,_ as b,h as _,p as R}from"./index-B45xvXlE.js";import{l as s}from"./lodash-DGrrF_8h.js";import{c as P,g as K}from"./student-Dh4k93lQ.js";import"./index-BdrbzQWw.js";import"./utils-CPYLdFy8.js";import"./index-9Kk-ct4S.js";import"./index-BL8RZMKu.js";import"./index-Dwsy5uKy.js";import"./index-CUifij4W.js";import"./index-DpIpbw6x.js";import"./index-B0930eMD.js";import"./index-ClKh7-XQ.js";import"./button-B_vktCce.js";import"./createLucideIcon-2YKpknUA.js";const me=()=>{const{student_id:n,material_id:f}=F(),k=$(),{data:g,isLoading:T,isError:L}=N({queryKey:["students",n],queryFn:()=>P(n)}),{data:v,isLoading:S,isError:q}=N({queryKey:["test-material-mock",f],queryFn:()=>B(f)}),{data:o,isLoading:C,isError:E}=N({queryKey:["test-material-mock-result",n,f],queryFn:()=>K(n,f)});if(C||T||S)return e.jsx(W,{});if(E||L||q)return e.jsx(V,{title:"Failed to Load page",message:"An error occurred while loading the page. Please try again later."});const l=s.get(o,"skills.reading"),i=s.get(o,"skills.listening"),c=s.get(o,"skills.speaking"),a=s.get(o,"skills.writing");return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("div",{className:"text-xl font-semibold",children:s.get(o,"material_info.material_title")}),e.jsx("div",{className:"flex gap-2",children:e.jsx(M,{to:`/teacher/students/${n}/mock`,label:"Back to mocks"})})]}),e.jsxs(d,{className:"w-full",children:[e.jsx(x,{className:"flex flex-row items-center gap-4",children:e.jsx(m,{children:g?.full_name})}),e.jsxs(r,{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Username:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:g?.username})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Group:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(t,{onClick:()=>k(`/teacher/groups/${g?.group?.id}`),className:"cursor-pointer",variant:"default",children:g?.group?.name})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Phone number:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:g?.phone})]})]})]}),e.jsxs(d,{className:"w-full",children:[e.jsx(x,{className:"flex flex-row items-center gap-4",children:e.jsx(m,{children:s.get(v,"test_info.test_title")})}),e.jsxs(r,{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Material title:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.get(v,"title")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Test type:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(t,{variant:"default",children:s.get(v,"test_type","N/A")})})]}),e.jsx("div",{className:"space-y-2 mt-4",children:s.get(v,"materials",[])?.map(h=>e.jsx("div",{className:"mb-2",children:e.jsxs(t,{variant:"outline",className:"inline-flex gap-2 p-1",children:[h.type==="reading"?e.jsx(w,{className:"h-6 w-6"}):h.type==="listening"?e.jsx(y,{className:"h-6 w-6"}):h.type==="writing"?e.jsx(b,{className:"h-6 w-6"}):e.jsx(_,{className:"h-6 w-6"}),s.get(h,"title","N/A")]})},h.id))})]})]}),e.jsxs(I,{defaultValue:"reading",className:"w-full",children:[e.jsxs(A,{className:"w-full grid grid-cols-5",children:[e.jsxs(j,{value:"reading",className:"flex items-center justify-center gap-2 text-sm font-medium transition-colors ",children:[e.jsx(w,{className:"w-5 h-5"}),"Reading"]}),e.jsxs(j,{value:"listening",className:"flex items-center justify-center gap-2 text-sm font-medium transition-colors ",children:[e.jsx(y,{className:"w-5 h-5"}),"Listening"]}),e.jsxs(j,{value:"writing",className:"flex items-center justify-center gap-2 text-sm font-medium transition-colors ",children:[e.jsx(b,{className:"w-5 h-5"}),"Writing"]}),e.jsxs(j,{value:"speaking",className:"flex items-center justify-center gap-2 text-sm font-medium transition-colors ",children:[e.jsx(_,{className:"w-5 h-5"}),"Speaking"]}),e.jsxs(j,{value:"full",className:"flex items-center justify-center gap-2 text-sm font-medium transition-colors ",children:[e.jsx(R,{className:"w-5 h-5"}),"Full"]})]}),e.jsx(u,{value:"reading",className:"mt-6",children:e.jsxs(d,{className:"w-full",children:[e.jsx(x,{className:"flex flex-row items-center gap-4",children:e.jsx(m,{children:s.get(l,"title")})}),s.get(l,"reading_complete")?e.jsxs(r,{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Total questions:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(t,{variant:"outline",children:s.get(l,"total_questions")})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Incorrect answers:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(t,{variant:"destructive",children:s.get(l,"incorrect_answers")})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Correct answers:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(t,{variant:"success",children:s.get(l,"correct_answers")})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Score percentage:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(t,{variant:"secondary",children:s.get(l,"score_percentage")})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Score:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(t,{variant:"default",children:s.get(l,"score")})})]}),e.jsxs("div",{className:"flex gap-2 mt-4 items-center",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Answer review:"}),e.jsx(p,{to:`/teacher/students/${n}/mock/reading/${s.get(l,"id")}/view`,className:"text-blue-500",children:"View"})]})]}):e.jsx(e.Fragment,{children:e.jsx(r,{className:"flex flex-col gap-2",children:e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(t,{variant:"destructive",children:"Not completed"})})})})]})}),e.jsx(u,{value:"listening",className:"mt-6",children:e.jsxs(d,{className:"w-full",children:[e.jsx(x,{className:"flex flex-row items-center gap-4",children:e.jsx(m,{children:s.get(i,"title")})}),s.get(i,"listening_complete")?e.jsxs(r,{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Total questions:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(t,{variant:"outline",children:s.get(i,"total_questions")})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Incorrect answers:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(t,{variant:"destructive",children:s.get(i,"incorrect_answers")})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Correct answers:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(t,{variant:"success",children:s.get(i,"correct_answers")})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Score percentage:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(t,{variant:"secondary",children:s.get(i,"score_percentage")})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Score:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(t,{variant:"default",children:s.get(i,"score")})})]}),e.jsxs("div",{className:"flex gap-2 mt-4 items-center",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Answer review:"}),e.jsx(p,{to:`/teacher/students/${n}/mock/listening/${s.get(i,"id")}/view`,className:"text-blue-500",children:"View"})]})]}):e.jsx(e.Fragment,{children:e.jsx(r,{className:"flex flex-col gap-2",children:e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(t,{variant:"destructive",children:"Not completed"})})})})]})}),e.jsx(u,{value:"writing",className:"mt-6",children:e.jsxs(d,{className:"w-full",children:[e.jsx(x,{className:"flex flex-row items-center gap-4",children:e.jsx(m,{children:s.get(a,"title")})}),s.get(a,"writing_complete")?e.jsxs(r,{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Writing (T1) score:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.get(a,"writing_task1.completed")?e.jsx(t,{variant:"outline",children:s.get(a,"writing_task1.score")}):e.jsx(t,{variant:"destructive",children:"Not completed"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Writing (T2) score:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.get(a,"writing_task2.completed")?e.jsx(t,{variant:"outline",children:s.get(a,"writing_task2.score")}):e.jsx(t,{variant:"destructive",children:"Not completed"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Score:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(t,{variant:"default",children:s.get(a,"score")})})]}),e.jsxs("div",{className:"flex gap-2 mt-4 items-center",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Answer review:"}),e.jsx(p,{to:`/teacher/students/${n}/mock/writing/${s.get(a,"id")}/view`,className:"text-blue-500",children:"View"})]})]}):e.jsx(e.Fragment,{children:e.jsx(r,{className:"flex flex-col gap-2",children:e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(t,{variant:"destructive",children:"Not completed"})})})})]})}),e.jsx(u,{value:"speaking",className:"mt-6",children:e.jsxs(d,{className:"w-full",children:[e.jsx(x,{className:"flex flex-row items-center gap-4",children:e.jsx(m,{children:s.get(c,"title")})}),s.get(c,"speaking_complete")?e.jsxs(r,{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Total questions:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(t,{variant:"outline",children:s.get(c,"total_questions")})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Incorrect answers:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(t,{variant:"destructive",children:s.get(c,"incorrect_answers")})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Correct answers:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(t,{variant:"success",children:s.get(c,"correct_answers")})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Score percentage:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(t,{variant:"secondary",children:s.get(c,"score_percentage")})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Score:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(t,{variant:"default",children:s.get(c,"score")})})]}),e.jsxs("div",{className:"flex gap-2 mt-4 items-center",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Answer review:"}),e.jsx(p,{to:`/teacher/students/${n}/mock/speaking/${s.get(c,"id")}/view`,className:"text-blue-500",children:"View"})]})]}):e.jsx(e.Fragment,{children:e.jsx(r,{className:"flex flex-col gap-2",children:e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(t,{variant:"destructive",children:"Not completed"})})})})]})}),e.jsx(u,{value:"full",className:"mt-6",children:e.jsxs(d,{className:"w-full",children:[e.jsx(x,{className:"flex flex-row items-center gap-4",children:e.jsx(m,{children:"Full result"})}),e.jsxs(r,{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Listening score:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.get(i,"listening_complete")?e.jsx(t,{variant:"outline",children:s.get(i,"score")}):e.jsx(t,{variant:"destructive",children:"Not completed"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Reading score:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.get(l,"reading_complete")?e.jsx(t,{variant:"outline",children:s.get(l,"score")}):e.jsx(t,{variant:"destructive",children:"Not completed"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Writing (T1) score:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.get(a,"writing_task1.completed")?e.jsx(t,{variant:"outline",children:s.get(a,"writing_task1.score")}):e.jsx(t,{variant:"destructive",children:"Not completed"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Writing (T2) score:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.get(a,"writing_task2.completed")?e.jsx(t,{variant:"outline",children:s.get(a,"writing_task2.score")}):e.jsx(t,{variant:"destructive",children:"Not completed"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Writing score:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.get(a,"writing_complete")?e.jsx(t,{variant:"outline",children:s.get(a,"score")}):e.jsx(t,{variant:"destructive",children:"Not completed"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Speaking score:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.get(c,"speaking_complete")?e.jsx(t,{variant:"outline",children:s.get(c,"score")}):e.jsx(t,{variant:"destructive",children:"Not completed"})})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Total score:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(t,{variant:"default",children:s.get(o,"material_info.total_overall_score")})})]})]})]})})]})]})};export{me as default};
