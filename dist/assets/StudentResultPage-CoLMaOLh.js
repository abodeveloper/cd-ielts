import{e as R,u as S,j as e}from"./index-C9n7polI.js";import{B as a}from"./badge-CETUtAy0.js";import{C as d,a as x,b as C,c as h,d as f}from"./card-BNOjpMXc.js";import{T as m,a as o,b as c,c as i,d as g,e as r}from"./table-CafL_8hk.js";import{B as q}from"./BackButton-iutNruKC.js";import{u as L,E}from"./ErrorMessage-BwaoKaaM.js";import{L as B}from"./LoadingSpinner-CwXBvz4P.js";import{c as I,e as w,g as b,b as P,_ as M,h as Q}from"./index-BBH-RmWy.js";import{l as t}from"./lodash-BQbGx-gA.js";import{h as F}from"./student-rtUTOOek.js";import"./index-BdrbzQWw.js";import"./utils-CPYLdFy8.js";import"./button-DUMtW0hL.js";import"./index-H52uSeXi.js";import"./createLucideIcon-BXHNmlwy.js";const se=()=>{const{id:p,test_type:j,skill:n,obj_id:N}=R(),_=S(),{data:s,isLoading:y,isError:T}=L({queryKey:["student-result",p,n,j,N],queryFn:()=>F(p,j,n,N)});return y?e.jsx(B,{}):T?e.jsx(E,{title:"Failed to Load page",message:"An error occurred while loading the page. Please try again later."}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("div",{className:"text-xl font-semibold",children:t.get(s,"student.full_name")}),e.jsx("div",{className:"flex gap-2",children:e.jsx(q,{label:"Back"})})]}),e.jsxs(d,{className:"w-full",children:[e.jsx(x,{className:"flex flex-row items-center gap-4",children:e.jsx(C,{children:t.get(s,"student.full_name")})}),e.jsxs(h,{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Group:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(a,{onClick:()=>_("/teacher/groups/1"),className:"cursor-pointer",variant:"default",children:t.get(s,"student.group.name")})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Phone number:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t.get(s,"student.phone")})]})]})]}),n=="reading"&&e.jsxs(d,{className:"w-full shadow-lg",children:[e.jsxs(x,{className:"flex items-center space-x-2",children:[e.jsx(I,{className:"w-12 h-12"}),e.jsx("h1",{className:"text-center text-lg font-extrabold tracking-tight text-balance",children:"IELTS Academic Reading - Results"})]}),e.jsxs(h,{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Test title:"}),e.jsx("div",{children:t.get(s,"test_title")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Material title:"}),e.jsx("div",{children:t.get(s,"material_title")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Test type:"}),e.jsx("div",{children:t.get(s,"test_type")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Total Questions:"}),e.jsx("div",{children:t.get(s,"statistics.total_questions")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Correct answers:"}),e.jsx("div",{className:"text-green-500",children:t.get(s,"statistics.correct_answers")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Incorrect answers:"}),e.jsx("div",{className:"text-destructive",children:t.get(s,"statistics.incorrect_answers")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Percentage correct:"}),e.jsxs("div",{children:[t.get(s,"statistics.score_percentage")," %"]})]}),j==="mock"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Overal:"}),e.jsx(a,{variant:"default",children:t.get(s,"statistics.overall")})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h2",{className:"text-md font-semibold",children:"Answer Review"}),e.jsx("div",{className:"",children:e.jsxs(m,{className:"w-full",children:[e.jsx(o,{children:e.jsxs(c,{children:[e.jsx(i,{children:"Question"}),e.jsx(i,{children:"Your Answer"}),e.jsx(i,{children:"True Answer"}),e.jsx(i,{children:"Status"})]})}),e.jsx(g,{children:t.get(s,"answers",[]).map(l=>e.jsxs(c,{children:[e.jsx(r,{children:l.question_number}),e.jsx(r,{children:l.answer||e.jsx(a,{className:"bg-orange-500",children:"Not answered"})}),e.jsx(r,{children:l.correct_answer}),e.jsx(r,{children:l.is_true?e.jsx(w,{className:"text-green-500"}):e.jsx(b,{className:"text-destructive"})})]},l.id))})]})})]})]}),e.jsx(f,{children:e.jsx("div",{className:"flex items-center justify-between w-full"})})]}),n=="listening"&&e.jsxs(d,{className:"w-full shadow-lg",children:[e.jsxs(x,{className:"flex items-center space-x-2",children:[e.jsx(P,{className:"w-12 h-12"}),e.jsx("h1",{className:"text-center text-lg font-extrabold tracking-tight text-balance",children:"IELTS Academic Listening - Results"})]}),e.jsxs(h,{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Test title:"}),e.jsx("div",{children:t.get(s,"test_title")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Material title:"}),e.jsx("div",{children:t.get(s,"material_title")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Test type:"}),e.jsx("div",{children:t.get(s,"test_type")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Total Questions:"}),e.jsx("div",{children:t.get(s,"statistics.total_questions")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Correct answers:"}),e.jsx("div",{className:"text-green-500",children:t.get(s,"statistics.correct_answers")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Incorrect answers:"}),e.jsx("div",{className:"text-destructive",children:t.get(s,"statistics.incorrect_answers")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Percentage correct:"}),e.jsxs("div",{children:[t.get(s,"statistics.score_percentage")," %"]})]}),j==="mock"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Overal:"}),e.jsx(a,{variant:"default",children:t.get(s,"statistics.overall")})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h2",{className:"text-md font-semibold",children:"Answer Review"}),e.jsx("div",{className:"",children:e.jsxs(m,{className:"w-full",children:[e.jsx(o,{children:e.jsxs(c,{children:[e.jsx(i,{children:"Question"}),e.jsx(i,{children:"Your Answer"}),e.jsx(i,{children:"True Answer"}),e.jsx(i,{children:"Status"})]})}),e.jsx(g,{children:t.get(s,"answers",[]).map(l=>e.jsxs(c,{children:[e.jsx(r,{children:l.question_number}),e.jsx(r,{children:l.answer||e.jsx(a,{className:"bg-orange-500",children:"Not answered"})}),e.jsx(r,{children:l.correct_answer}),e.jsx(r,{children:l.is_true?e.jsx(w,{className:"text-green-500"}):e.jsx(b,{className:"text-destructive"})})]},l.id))})]})})]})]}),e.jsx(f,{children:e.jsx("div",{className:"flex items-center justify-between w-full"})})]}),n=="writing"&&e.jsxs(d,{className:"w-full shadow-lg",children:[e.jsxs(x,{className:"flex items-center space-x-2",children:[e.jsx(M,{className:"w-12 h-12"}),e.jsx("h1",{className:"text-center text-lg font-extrabold tracking-tight text-balance",children:"IELTS Academic Writing - Results"})]}),e.jsxs(h,{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Test title:"}),e.jsx("div",{children:t.get(s,"test_title")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Material title:"}),e.jsx("div",{children:t.get(s,"material_title")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Test type:"}),e.jsx("div",{children:t.get(s,"test_type")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Overal:"}),e.jsx(a,{variant:"default",children:t.get(s,"statistics.average_score")})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h2",{className:"text-md font-semibold",children:"Answer Review"}),e.jsx("div",{className:"",children:e.jsxs(m,{className:"w-full",children:[e.jsx(o,{children:e.jsxs(c,{children:[e.jsx(i,{children:"Task"}),e.jsx(i,{children:"Your Answer"}),e.jsx(i,{children:"Word count"}),e.jsx(i,{children:"Score"}),e.jsx(i,{children:"Feedback"})]})}),e.jsx(g,{children:t.get(s,"answers",[]).map(l=>e.jsxs(c,{children:[e.jsx(r,{children:l.task_number}),e.jsx(r,{children:l.answer||e.jsx(a,{className:"bg-orange-500",children:"Not answered"})}),e.jsx(r,{children:l.word_count}),e.jsx(r,{children:e.jsx(a,{variant:"default",children:l.score})}),e.jsx(r,{children:l.feedback})]},l.id))})]})})]})]})]}),n=="speaking"&&e.jsxs(d,{className:"w-full shadow-lg",children:[e.jsxs(x,{className:"flex items-center space-x-2",children:[e.jsx(Q,{className:"w-12 h-12"}),e.jsx("h1",{className:"text-center text-lg font-extrabold tracking-tight text-balance",children:"IELTS Academic Speaking - Results"})]}),e.jsxs(h,{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Test title:"}),e.jsx("div",{children:t.get(s,"test_title")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Material title:"}),e.jsx("div",{children:t.get(s,"material_title")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Test type:"}),e.jsx("div",{children:t.get(s,"test_type")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Score:"}),e.jsx(a,{variant:"default",children:t.get(s,"statistics.average_score")})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h2",{className:"text-md font-semibold",children:"Answer Review"}),e.jsx("div",{children:e.jsxs(m,{className:"w-full",children:[e.jsx(o,{children:e.jsxs(c,{children:[e.jsx(i,{children:"Questions"}),e.jsx(i,{children:"Your Answer"}),e.jsx(i,{children:"Feedback"})]})}),e.jsx(g,{children:t.get(s,"answers",[])?.map(l=>e.jsxs(c,{children:[e.jsx(r,{children:e.jsx("div",{className:"space-y-4",children:l?.questions?.map((u,k)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"font-bold",children:["Part ",u?.speaking_part]}),e.jsx("div",{className:"flex gap-2",children:u?.question?.map((v,A)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"font-semibold",children:[v?.question_number,"."]}),e.jsx("div",{dangerouslySetInnerHTML:{__html:v?.question}})]},A))})]},k))})}),e.jsx(r,{children:l.record?e.jsxs("audio",{controls:!0,className:"w-full",children:[e.jsx("source",{src:l.record,type:"audio/mpeg"}),"Your browser does not support the audio element."]}):e.jsx(a,{className:"bg-orange-500",children:"Not answered"})}),e.jsx(r,{children:l.feedback})]},l.id))})]})})]})]})]})]})};export{se as default};
