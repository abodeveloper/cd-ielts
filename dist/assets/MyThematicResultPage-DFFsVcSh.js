import{a as N,e as w,j as e,c as o}from"./index-D-09amOr.js";import{B as a}from"./badge-Dffs_Ov9.js";import{C as i,a as l,b as c,c as n}from"./card-CMmmcuPU.js";import{a as y}from"./student-Dh4k93lQ.js";import{a as _}from"./test-material-CxzLXHDM.js";import{B as b}from"./BackButton-DjUFhrAc.js";import{u as h,E as k}from"./ErrorMessage-KlD2LGXF.js";import{L as q}from"./LoadingSpinner-Clj1yvjA.js";import{l as t}from"./lodash-DGrrF_8h.js";import"./index-BdrbzQWw.js";import"./utils-CPYLdFy8.js";import"./button-B_vktCce.js";import"./index-DpIpbw6x.js";import"./createLucideIcon-2YKpknUA.js";const K=()=>{const{user:j}=N(),{material_id:d,skill:g}=w(),r=t.get(j,"id"),{data:s,isLoading:f,isError:u}=h({queryKey:["test-material-thematic-result",r,d],queryFn:()=>y(g,r,d)}),x=t.get(s,"skill_type","reading"),{data:m,isLoading:v,isError:p}=h({queryKey:["test-material-thematic",d],queryFn:()=>_(g,d)});return f||v?e.jsx(q,{}):u||p?e.jsx(k,{title:"Failed to Load page",message:"An error occurred while loading the page. Please try again later."}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("div",{className:"text-xl font-semibold",children:t.get(s,"material_info.material_title")}),e.jsx("div",{className:"flex gap-2",children:e.jsx(b,{to:"/student/results",label:"Back to thematics"})})]}),e.jsxs(i,{className:"w-full",children:[e.jsx(l,{className:"flex flex-row items-center gap-4",children:e.jsx(c,{children:t.get(m,"skill_info.skill_title")})}),e.jsxs(n,{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Section title:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t.get(m,"test_info.test_title")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Material title:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t.get(m,"title")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Test type:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(a,{variant:"default",children:t.get(m,"test_info.test_type","N/A")})})]})]})]}),x==="reading"&&e.jsx(e.Fragment,{children:e.jsxs(i,{className:"w-full",children:[e.jsx(l,{className:"flex flex-row items-center gap-4",children:e.jsx(c,{children:t.get(s,"title")})}),e.jsxs(n,{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Total questions:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(a,{variant:"outline",children:t.get(s,"total_questions")})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Incorrect answers:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(a,{variant:"destructive",children:t.get(s,"incorrect_answers")})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Correct answers:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(a,{variant:"success",children:t.get(s,"correct_answers")})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Score percentage:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(a,{variant:"secondary",children:t.get(s,"score_percentage")})})]}),e.jsxs("div",{className:"flex gap-2 mt-4 items-center",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Answer review:"}),e.jsx(o,{to:`/student/results/${r}/thematic/reading/${t.get(s,"material_info.reading_material_id")}`,className:"text-blue-500",children:"View"})]})]})]})}),x==="listening"&&e.jsx(e.Fragment,{children:e.jsxs(i,{className:"w-full",children:[e.jsx(l,{className:"flex flex-row items-center gap-4",children:e.jsx(c,{children:t.get(s,"title")})}),e.jsxs(n,{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Total questions:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(a,{variant:"outline",children:t.get(s,"total_questions")})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Incorrect answers:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(a,{variant:"destructive",children:t.get(s,"incorrect_answers")})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Correct answers:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(a,{variant:"success",children:t.get(s,"correct_answers")})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Score percentage:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(a,{variant:"secondary",children:t.get(s,"score_percentage")})})]}),e.jsxs("div",{className:"flex gap-2 mt-4 items-center",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Answer review:"}),e.jsx(o,{to:`/student/results/${r}/thematic/listening/${t.get(s,"material_info.listening_material_id")}`,className:"text-blue-500",children:"View"})]})]})]})}),x==="writing"&&e.jsx(e.Fragment,{children:e.jsxs(i,{className:"w-full",children:[e.jsx(l,{className:"flex flex-row items-center gap-4",children:e.jsx(c,{children:t.get(s,"title")})}),e.jsxs(n,{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Writing (T1) score:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t.get(s,"writing_task1.completed")?e.jsx(a,{variant:"outline",children:t.get(s,"writing_task1.score")}):e.jsx(a,{variant:"destructive",children:"Not completed"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Writing (T2) score:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t.get(s,"writing_task2.completed")?e.jsx(a,{variant:"outline",children:t.get(s,"writing_task2.score")}):e.jsx(a,{variant:"destructive",children:"Not completed"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Score:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(a,{variant:"default",children:t.get(s,"score")})})]}),e.jsxs("div",{className:"flex gap-2 mt-4 items-center",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Answer review:"}),e.jsx(o,{to:`/student/results/${r}/mock/writing/${t.get(s,"material_info.writing_material_id")}`,className:"text-blue-500",children:"View"})]})]})]})}),x==="speaking"&&e.jsx(e.Fragment,{children:e.jsxs(i,{className:"w-full",children:[e.jsx(l,{className:"flex flex-row items-center gap-4",children:e.jsx(c,{children:t.get(s,"title")})}),e.jsxs(n,{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Total questions:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(a,{variant:"outline",children:t.get(s,"total_questions")})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Incorrect answers:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(a,{variant:"destructive",children:t.get(s,"incorrect_answers")})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Correct answers:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(a,{variant:"success",children:t.get(s,"correct_answers")})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Score percentage:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(a,{variant:"secondary",children:t.get(s,"score_percentage")})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Score:"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx(a,{variant:"default",children:t.get(s,"score")})})]}),e.jsxs("div",{className:"flex gap-2 mt-4 items-center",children:[e.jsx("div",{className:"text-sm text-primary font-extrabold",children:"Answer review:"}),e.jsx(o,{to:`/student/results/${r}/mock/speaking/${t.get(s,"material_info.speaking_material_id")}`,className:"text-blue-500",children:"View"})]})]})]})})]})};export{K as default};
