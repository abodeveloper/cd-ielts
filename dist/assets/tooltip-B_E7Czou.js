import{r as s,j as p}from"./index-BxWpwr9K.js";import{c as T,a as se,u as ie}from"./index-BDN4nLcq.js";import{u as A,a as ae}from"./index-l1yS5F1P.js";import{u as z,c as ce}from"./index-Wh0fB7su.js";import{P as H,d as le}from"./index-D1JhMIMx.js";import{u as ue,c as $,R as de,A as fe,P as pe,C as ve,b as he}from"./index-B5emdeup.js";import{P as Y}from"./index-B0vI_HCU.js";import{R as me}from"./index-DQnzmU1N.js";import{c as ye}from"./utils-CPYLdFy8.js";var xe="DismissableLayer",N="dismissableLayer.update",Ee="dismissableLayer.pointerDownOutside",Ce="dismissableLayer.focusOutside",U,K=s.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),V=s.forwardRef((t,n)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:o,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:l,onDismiss:d,...a}=t,u=s.useContext(K),[c,m]=s.useState(null),f=c?.ownerDocument??globalThis?.document,[,h]=s.useState({}),y=A(n,v=>m(v)),x=Array.from(u.layers),[E]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=x.indexOf(E),C=c?x.indexOf(c):-1,P=u.layersWithOutsidePointerEventsDisabled.size>0,b=C>=g,w=be(v=>{const _=v.target,W=[...u.branches].some(k=>k.contains(_));!b||W||(r?.(v),l?.(v),v.defaultPrevented||d?.())},f),D=Pe(v=>{const _=v.target;[...u.branches].some(k=>k.contains(_))||(i?.(v),l?.(v),v.defaultPrevented||d?.())},f);return ue(v=>{C===u.layers.size-1&&(o?.(v),!v.defaultPrevented&&d&&(v.preventDefault(),d()))},f),s.useEffect(()=>{if(c)return e&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(U=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),G(),()=>{e&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=U)}},[c,f,e,u]),s.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),G())},[c,u]),s.useEffect(()=>{const v=()=>h({});return document.addEventListener(N,v),()=>document.removeEventListener(N,v)},[]),p.jsx(H.div,{...a,ref:y,style:{pointerEvents:P?b?"auto":"none":void 0,...t.style},onFocusCapture:T(t.onFocusCapture,D.onFocusCapture),onBlurCapture:T(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:T(t.onPointerDownCapture,w.onPointerDownCapture)})});V.displayName=xe;var ge="DismissableLayerBranch",Te=s.forwardRef((t,n)=>{const e=s.useContext(K),o=s.useRef(null),r=A(n,o);return s.useEffect(()=>{const i=o.current;if(i)return e.branches.add(i),()=>{e.branches.delete(i)}},[e.branches]),p.jsx(H.div,{...t,ref:r})});Te.displayName=ge;function be(t,n=globalThis?.document){const e=z(t),o=s.useRef(!1),r=s.useRef(()=>{});return s.useEffect(()=>{const i=d=>{if(d.target&&!o.current){let a=function(){X(Ee,e,u,{discrete:!0})};const u={originalEvent:d};d.pointerType==="touch"?(n.removeEventListener("click",r.current),r.current=a,n.addEventListener("click",r.current,{once:!0})):a()}else n.removeEventListener("click",r.current);o.current=!1},l=window.setTimeout(()=>{n.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),n.removeEventListener("pointerdown",i),n.removeEventListener("click",r.current)}},[n,e]),{onPointerDownCapture:()=>o.current=!0}}function Pe(t,n=globalThis?.document){const e=z(t),o=s.useRef(!1);return s.useEffect(()=>{const r=i=>{i.target&&!o.current&&X(Ce,e,{originalEvent:i},{discrete:!1})};return n.addEventListener("focusin",r),()=>n.removeEventListener("focusin",r)},[n,e]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function G(){const t=new CustomEvent(N);document.dispatchEvent(t)}function X(t,n,e,{discrete:o}){const r=e.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:e});n&&r.addEventListener(t,n,{once:!0}),o?le(r,i):r.dispatchEvent(i)}var[I,tt]=ce("Tooltip",[$]),j=$(),q="TooltipProvider",we=700,S="tooltip.open",[Re,F]=I(q),J=t=>{const{__scopeTooltip:n,delayDuration:e=we,skipDelayDuration:o=300,disableHoverableContent:r=!1,children:i}=t,l=s.useRef(!0),d=s.useRef(!1),a=s.useRef(0);return s.useEffect(()=>{const u=a.current;return()=>window.clearTimeout(u)},[]),p.jsx(Re,{scope:n,isOpenDelayedRef:l,delayDuration:e,onOpen:s.useCallback(()=>{window.clearTimeout(a.current),l.current=!1},[]),onClose:s.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(()=>l.current=!0,o)},[o]),isPointerInTransitRef:d,onPointerInTransitChange:s.useCallback(u=>{d.current=u},[]),disableHoverableContent:r,children:i})};J.displayName=q;var O="Tooltip",[De,L]=I(O),Q=t=>{const{__scopeTooltip:n,children:e,open:o,defaultOpen:r,onOpenChange:i,disableHoverableContent:l,delayDuration:d}=t,a=F(O,t.__scopeTooltip),u=j(n),[c,m]=s.useState(null),f=se(),h=s.useRef(0),y=l??a.disableHoverableContent,x=d??a.delayDuration,E=s.useRef(!1),[g,C]=ie({prop:o,defaultProp:r??!1,onChange:v=>{v?(a.onOpen(),document.dispatchEvent(new CustomEvent(S))):a.onClose(),i?.(v)},caller:O}),P=s.useMemo(()=>g?E.current?"delayed-open":"instant-open":"closed",[g]),b=s.useCallback(()=>{window.clearTimeout(h.current),h.current=0,E.current=!1,C(!0)},[C]),w=s.useCallback(()=>{window.clearTimeout(h.current),h.current=0,C(!1)},[C]),D=s.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{E.current=!0,C(!0),h.current=0},x)},[x,C]);return s.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),p.jsx(de,{...u,children:p.jsx(De,{scope:n,contentId:f,open:g,stateAttribute:P,trigger:c,onTriggerChange:m,onTriggerEnter:s.useCallback(()=>{a.isOpenDelayedRef.current?D():b()},[a.isOpenDelayedRef,D,b]),onTriggerLeave:s.useCallback(()=>{y?w():(window.clearTimeout(h.current),h.current=0)},[w,y]),onOpen:b,onClose:w,disableHoverableContent:y,children:e})})};Q.displayName=O;var M="TooltipTrigger",Z=s.forwardRef((t,n)=>{const{__scopeTooltip:e,...o}=t,r=L(M,e),i=F(M,e),l=j(e),d=s.useRef(null),a=A(n,d,r.onTriggerChange),u=s.useRef(!1),c=s.useRef(!1),m=s.useCallback(()=>u.current=!1,[]);return s.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),p.jsx(fe,{asChild:!0,...l,children:p.jsx(H.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...o,ref:a,onPointerMove:T(t.onPointerMove,f=>{f.pointerType!=="touch"&&!c.current&&!i.isPointerInTransitRef.current&&(r.onTriggerEnter(),c.current=!0)}),onPointerLeave:T(t.onPointerLeave,()=>{r.onTriggerLeave(),c.current=!1}),onPointerDown:T(t.onPointerDown,()=>{r.open&&r.onClose(),u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:T(t.onFocus,()=>{u.current||r.onOpen()}),onBlur:T(t.onBlur,r.onClose),onClick:T(t.onClick,r.onClose)})})});Z.displayName=M;var B="TooltipPortal",[Oe,Le]=I(B,{forceMount:void 0}),ee=t=>{const{__scopeTooltip:n,forceMount:e,children:o,container:r}=t,i=L(B,n);return p.jsx(Oe,{scope:n,forceMount:e,children:p.jsx(Y,{present:e||i.open,children:p.jsx(pe,{asChild:!0,container:r,children:o})})})};ee.displayName=B;var R="TooltipContent",te=s.forwardRef((t,n)=>{const e=Le(R,t.__scopeTooltip),{forceMount:o=e.forceMount,side:r="top",...i}=t,l=L(R,t.__scopeTooltip);return p.jsx(Y,{present:o||l.open,children:l.disableHoverableContent?p.jsx(ne,{side:r,...i,ref:n}):p.jsx(_e,{side:r,...i,ref:n})})}),_e=s.forwardRef((t,n)=>{const e=L(R,t.__scopeTooltip),o=F(R,t.__scopeTooltip),r=s.useRef(null),i=A(n,r),[l,d]=s.useState(null),{trigger:a,onClose:u}=e,c=r.current,{onPointerInTransitChange:m}=o,f=s.useCallback(()=>{d(null),m(!1)},[m]),h=s.useCallback((y,x)=>{const E=y.currentTarget,g={x:y.clientX,y:y.clientY},C=Ne(g,E.getBoundingClientRect()),P=Se(g,C),b=Me(x.getBoundingClientRect()),w=Fe([...P,...b]);d(w),m(!0)},[m]);return s.useEffect(()=>()=>f(),[f]),s.useEffect(()=>{if(a&&c){const y=E=>h(E,c),x=E=>h(E,a);return a.addEventListener("pointerleave",y),c.addEventListener("pointerleave",x),()=>{a.removeEventListener("pointerleave",y),c.removeEventListener("pointerleave",x)}}},[a,c,h,f]),s.useEffect(()=>{if(l){const y=x=>{const E=x.target,g={x:x.clientX,y:x.clientY},C=a?.contains(E)||c?.contains(E),P=!He(g,l);C?f():P&&(f(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[a,c,l,u,f]),p.jsx(ne,{...t,ref:i})}),[Ae,Ie]=I(O,{isInside:!1}),je=ae("TooltipContent"),ne=s.forwardRef((t,n)=>{const{__scopeTooltip:e,children:o,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:l,...d}=t,a=L(R,e),u=j(e),{onClose:c}=a;return s.useEffect(()=>(document.addEventListener(S,c),()=>document.removeEventListener(S,c)),[c]),s.useEffect(()=>{if(a.trigger){const m=f=>{f.target?.contains(a.trigger)&&c()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[a.trigger,c]),p.jsx(V,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:c,children:p.jsxs(ve,{"data-state":a.stateAttribute,...u,...d,ref:n,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(je,{children:o}),p.jsx(Ae,{scope:e,isInside:!0,children:p.jsx(me,{id:a.contentId,role:"tooltip",children:r||o})})]})})});te.displayName=R;var oe="TooltipArrow",ke=s.forwardRef((t,n)=>{const{__scopeTooltip:e,...o}=t,r=j(e);return Ie(oe,e).isInside?null:p.jsx(he,{...r,...o,ref:n})});ke.displayName=oe;function Ne(t,n){const e=Math.abs(n.top-t.y),o=Math.abs(n.bottom-t.y),r=Math.abs(n.right-t.x),i=Math.abs(n.left-t.x);switch(Math.min(e,o,r,i)){case i:return"left";case r:return"right";case e:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function Se(t,n,e=5){const o=[];switch(n){case"top":o.push({x:t.x-e,y:t.y+e},{x:t.x+e,y:t.y+e});break;case"bottom":o.push({x:t.x-e,y:t.y-e},{x:t.x+e,y:t.y-e});break;case"left":o.push({x:t.x+e,y:t.y-e},{x:t.x+e,y:t.y+e});break;case"right":o.push({x:t.x-e,y:t.y-e},{x:t.x-e,y:t.y+e});break}return o}function Me(t){const{top:n,right:e,bottom:o,left:r}=t;return[{x:r,y:n},{x:e,y:n},{x:e,y:o},{x:r,y:o}]}function He(t,n){const{x:e,y:o}=t;let r=!1;for(let i=0,l=n.length-1;i<n.length;l=i++){const d=n[i],a=n[l],u=d.x,c=d.y,m=a.x,f=a.y;c>o!=f>o&&e<(m-u)*(o-c)/(f-c)+u&&(r=!r)}return r}function Fe(t){const n=t.slice();return n.sort((e,o)=>e.x<o.x?-1:e.x>o.x?1:e.y<o.y?-1:e.y>o.y?1:0),Be(n)}function Be(t){if(t.length<=1)return t.slice();const n=[];for(let o=0;o<t.length;o++){const r=t[o];for(;n.length>=2;){const i=n[n.length-1],l=n[n.length-2];if((i.x-l.x)*(r.y-l.y)>=(i.y-l.y)*(r.x-l.x))n.pop();else break}n.push(r)}n.pop();const e=[];for(let o=t.length-1;o>=0;o--){const r=t[o];for(;e.length>=2;){const i=e[e.length-1],l=e[e.length-2];if((i.x-l.x)*(r.y-l.y)>=(i.y-l.y)*(r.x-l.x))e.pop();else break}e.push(r)}return e.pop(),n.length===1&&e.length===1&&n[0].x===e[0].x&&n[0].y===e[0].y?n:n.concat(e)}var We=J,Ue=Q,Ge=Z,ze=ee,re=te;const nt=We,ot=Ue,rt=Ge,$e=s.forwardRef(({className:t,sideOffset:n=4,...e},o)=>p.jsx(ze,{children:p.jsx(re,{ref:o,sideOffset:n,className:ye("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...e})}));$e.displayName=re.displayName;export{nt as T,ot as a,rt as b,$e as c};
