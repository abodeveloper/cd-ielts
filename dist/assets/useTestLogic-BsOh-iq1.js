import{a as je,j as A,c as He,R as Fe,r as N,h as oe,f as Ae,k as Ge,t as Ue}from"./index-Bt-pdlaH.js";import{B as ae}from"./button-RA2pRBKq.js";import{C as Be,a as qe,c as ze,d as Xe}from"./card-zr1CNwId.js";import{A as Ve,R as $e,_ as We,i as ke,M as Ye}from"./index-DGTRiiB-.js";import{l as se}from"./lodash-BhID_2fr.js";function gt({onNext:t}){const{user:o}=je();return A.jsx("div",{className:"flex items-center justify-center min-h-screen bg-muted w-full",children:A.jsxs(Be,{className:"w-full max-w-lg shadow-lg",children:[A.jsxs(qe,{className:"flex items-center space-x-2",children:[A.jsx(Ve,{className:"w-12 h-12"}),A.jsx("h1",{className:"scroll-m-20 text-center text-lg font-extrabold tracking-tight text-balance",children:"Confirm your details"})]}),A.jsxs(ze,{className:"space-y-8",children:[A.jsxs("div",{className:"space-y-3",children:[A.jsxs("p",{children:[A.jsx("strong",{children:"Name:"})," ",se.get(o,"full_name")]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Phone number:"})," ",se.get(o,"phone")]})]}),A.jsxs("div",{className:"flex flex-wrap gap-2 items-center text-center md:flex-row md:items-center md:text-left",children:[A.jsx($e,{}),A.jsx("span",{children:"If your details are not correct, please"}),A.jsx(He,{to:o?.role===Fe.TEACHER?"/teacher/profile":"/student/profile",className:"text-blue-600 flex gap-2 items-center",children:"update your profile."})]})]}),A.jsx(Xe,{children:A.jsx(ae,{className:"w-full",onClick:t,children:"My details are correct"})})]})})}function mt({steps:t}){const[o,p]=N.useState(0),[c,f]=N.useState({}),m=s=>{o<t.length-1&&(s&&f(r=>({...r,...s})),p(r=>r+1))};N.useEffect(()=>{const r=t[o]?.props?.disableOverflow??!1;return r||(document.body.style.overflow="hidden"),()=>{r||(document.body.style.overflow="auto")}},[o,t]);const y=t[o];return A.jsx("div",{children:oe.isValidElement(y)&&oe.cloneElement(y,{onNext:m,formData:c})})}var W={},X={},ee={},B={},q={},re={},le;function Ne(){return le||(le=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var o;(function(c){c.Root="root",c.Text="text",c.Directive="directive",c.Comment="comment",c.Script="script",c.Style="style",c.Tag="tag",c.CDATA="cdata",c.Doctype="doctype"})(o=t.ElementType||(t.ElementType={}));function p(c){return c.type===o.Tag||c.type===o.Script||c.type===o.Style}t.isTag=p,t.Root=o.Root,t.Text=o.Text,t.Directive=o.Directive,t.Comment=o.Comment,t.Script=o.Script,t.Style=o.Style,t.Tag=o.Tag,t.CDATA=o.CDATA,t.Doctype=o.Doctype}(re)),re}var S={},ce;function ue(){if(ce)return S;ce=1;var t=S&&S.__extends||function(){var e=function(i,l){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,v){u.__proto__=v}||function(u,v){for(var R in v)Object.prototype.hasOwnProperty.call(v,R)&&(u[R]=v[R])},e(i,l)};return function(i,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");e(i,l);function u(){this.constructor=i}i.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}}(),o=S&&S.__assign||function(){return o=Object.assign||function(e){for(var i,l=1,u=arguments.length;l<u;l++){i=arguments[l];for(var v in i)Object.prototype.hasOwnProperty.call(i,v)&&(e[v]=i[v])}return e},o.apply(this,arguments)};Object.defineProperty(S,"__esModule",{value:!0}),S.cloneNode=S.hasChildren=S.isDocument=S.isDirective=S.isComment=S.isText=S.isCDATA=S.isTag=S.Element=S.Document=S.CDATA=S.NodeWithChildren=S.ProcessingInstruction=S.Comment=S.Text=S.DataNode=S.Node=void 0;var p=Ne(),c=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(i){this.parent=i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(i){this.prev=i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(i){this.next=i},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(i){return i===void 0&&(i=!1),I(this,i)},e}();S.Node=c;var f=function(e){t(i,e);function i(l){var u=e.call(this)||this;return u.data=l,u}return Object.defineProperty(i.prototype,"nodeValue",{get:function(){return this.data},set:function(l){this.data=l},enumerable:!1,configurable:!0}),i}(c);S.DataNode=f;var m=function(e){t(i,e);function i(){var l=e!==null&&e.apply(this,arguments)||this;return l.type=p.ElementType.Text,l}return Object.defineProperty(i.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),i}(f);S.Text=m;var y=function(e){t(i,e);function i(){var l=e!==null&&e.apply(this,arguments)||this;return l.type=p.ElementType.Comment,l}return Object.defineProperty(i.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),i}(f);S.Comment=y;var s=function(e){t(i,e);function i(l,u){var v=e.call(this,u)||this;return v.name=l,v.type=p.ElementType.Directive,v}return Object.defineProperty(i.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),i}(f);S.ProcessingInstruction=s;var r=function(e){t(i,e);function i(l){var u=e.call(this)||this;return u.children=l,u}return Object.defineProperty(i.prototype,"firstChild",{get:function(){var l;return(l=this.children[0])!==null&&l!==void 0?l:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"childNodes",{get:function(){return this.children},set:function(l){this.children=l},enumerable:!1,configurable:!0}),i}(c);S.NodeWithChildren=r;var n=function(e){t(i,e);function i(){var l=e!==null&&e.apply(this,arguments)||this;return l.type=p.ElementType.CDATA,l}return Object.defineProperty(i.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),i}(r);S.CDATA=n;var a=function(e){t(i,e);function i(){var l=e!==null&&e.apply(this,arguments)||this;return l.type=p.ElementType.Root,l}return Object.defineProperty(i.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),i}(r);S.Document=a;var h=function(e){t(i,e);function i(l,u,v,R){v===void 0&&(v=[]),R===void 0&&(R=l==="script"?p.ElementType.Script:l==="style"?p.ElementType.Style:p.ElementType.Tag);var M=e.call(this,v)||this;return M.name=l,M.attribs=u,M.type=R,M}return Object.defineProperty(i.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tagName",{get:function(){return this.name},set:function(l){this.name=l},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"attributes",{get:function(){var l=this;return Object.keys(this.attribs).map(function(u){var v,R;return{name:u,value:l.attribs[u],namespace:(v=l["x-attribsNamespace"])===null||v===void 0?void 0:v[u],prefix:(R=l["x-attribsPrefix"])===null||R===void 0?void 0:R[u]}})},enumerable:!1,configurable:!0}),i}(r);S.Element=h;function b(e){return(0,p.isTag)(e)}S.isTag=b;function O(e){return e.type===p.ElementType.CDATA}S.isCDATA=O;function P(e){return e.type===p.ElementType.Text}S.isText=P;function _(e){return e.type===p.ElementType.Comment}S.isComment=_;function T(e){return e.type===p.ElementType.Directive}S.isDirective=T;function x(e){return e.type===p.ElementType.Root}S.isDocument=x;function C(e){return Object.prototype.hasOwnProperty.call(e,"children")}S.hasChildren=C;function I(e,i){i===void 0&&(i=!1);var l;if(P(e))l=new m(e.data);else if(_(e))l=new y(e.data);else if(b(e)){var u=i?D(e.children):[],v=new h(e.name,o({},e.attribs),u);u.forEach(function(E){return E.parent=v}),e.namespace!=null&&(v.namespace=e.namespace),e["x-attribsNamespace"]&&(v["x-attribsNamespace"]=o({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(v["x-attribsPrefix"]=o({},e["x-attribsPrefix"])),l=v}else if(O(e)){var u=i?D(e.children):[],R=new n(u);u.forEach(function(g){return g.parent=R}),l=R}else if(x(e)){var u=i?D(e.children):[],M=new a(u);u.forEach(function(g){return g.parent=M}),e["x-mode"]&&(M["x-mode"]=e["x-mode"]),l=M}else if(T(e)){var d=new s(e.name,e.data);e["x-name"]!=null&&(d["x-name"]=e["x-name"],d["x-publicId"]=e["x-publicId"],d["x-systemId"]=e["x-systemId"]),l=d}else throw new Error("Not implemented yet: ".concat(e.type));return l.startIndex=e.startIndex,l.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(l.sourceCodeLocation=e.sourceCodeLocation),l}S.cloneNode=I;function D(e){for(var i=e.map(function(u){return I(u,!0)}),l=1;l<i.length;l++)i[l].prev=i[l-1],i[l-1].next=i[l];return i}return S}var fe;function Oe(){return fe||(fe=1,function(t){var o=q&&q.__createBinding||(Object.create?function(s,r,n,a){a===void 0&&(a=n);var h=Object.getOwnPropertyDescriptor(r,n);(!h||("get"in h?!r.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(s,a,h)}:function(s,r,n,a){a===void 0&&(a=n),s[a]=r[n]}),p=q&&q.__exportStar||function(s,r){for(var n in s)n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n)&&o(r,s,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var c=Ne(),f=ue();p(ue(),t);var m={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},y=function(){function s(r,n,a){this.dom=[],this.root=new f.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof n=="function"&&(a=n,n=m),typeof r=="object"&&(n=r,r=void 0),this.callback=r??null,this.options=n??m,this.elementCB=a??null}return s.prototype.onparserinit=function(r){this.parser=r},s.prototype.onreset=function(){this.dom=[],this.root=new f.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},s.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},s.prototype.onerror=function(r){this.handleCallback(r)},s.prototype.onclosetag=function(){this.lastNode=null;var r=this.tagStack.pop();this.options.withEndIndices&&(r.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(r)},s.prototype.onopentag=function(r,n){var a=this.options.xmlMode?c.ElementType.Tag:void 0,h=new f.Element(r,n,void 0,a);this.addNode(h),this.tagStack.push(h)},s.prototype.ontext=function(r){var n=this.lastNode;if(n&&n.type===c.ElementType.Text)n.data+=r,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{var a=new f.Text(r);this.addNode(a),this.lastNode=a}},s.prototype.oncomment=function(r){if(this.lastNode&&this.lastNode.type===c.ElementType.Comment){this.lastNode.data+=r;return}var n=new f.Comment(r);this.addNode(n),this.lastNode=n},s.prototype.oncommentend=function(){this.lastNode=null},s.prototype.oncdatastart=function(){var r=new f.Text(""),n=new f.CDATA([r]);this.addNode(n),r.parent=n,this.lastNode=r},s.prototype.oncdataend=function(){this.lastNode=null},s.prototype.onprocessinginstruction=function(r,n){var a=new f.ProcessingInstruction(r,n);this.addNode(a)},s.prototype.handleCallback=function(r){if(typeof this.callback=="function")this.callback(r,this.dom);else if(r)throw r},s.prototype.addNode=function(r){var n=this.tagStack[this.tagStack.length-1],a=n.children[n.children.length-1];this.options.withStartIndices&&(r.startIndex=this.parser.startIndex),this.options.withEndIndices&&(r.endIndex=this.parser.endIndex),n.children.push(r),a&&(r.prev=a,a.next=r),r.parent=n,this.lastNode=null},s}();t.DomHandler=y,t.default=y}(q)),q}var ne={},de;function Ze(){return de||(de=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CARRIAGE_RETURN_PLACEHOLDER_REGEX=t.CARRIAGE_RETURN_PLACEHOLDER=t.CARRIAGE_RETURN_REGEX=t.CARRIAGE_RETURN=t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES=void 0,t.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES.reduce(function(o,p){return o[p.toLowerCase()]=p,o},{}),t.CARRIAGE_RETURN="\r",t.CARRIAGE_RETURN_REGEX=new RegExp(t.CARRIAGE_RETURN,"g"),t.CARRIAGE_RETURN_PLACEHOLDER="__HTML_DOM_PARSER_CARRIAGE_RETURN_PLACEHOLDER_".concat(Date.now(),"__"),t.CARRIAGE_RETURN_PLACEHOLDER_REGEX=new RegExp(t.CARRIAGE_RETURN_PLACEHOLDER,"g")}(ne)),ne}var he;function Pe(){if(he)return B;he=1,Object.defineProperty(B,"__esModule",{value:!0}),B.formatAttributes=c,B.escapeSpecialCharacters=m,B.revertEscapedCharacters=y,B.formatDOM=s;var t=Oe(),o=Ze();function p(r){return o.CASE_SENSITIVE_TAG_NAMES_MAP[r]}function c(r){for(var n={},a=0,h=r.length;a<h;a++){var b=r[a];n[b.name]=b.value}return n}function f(r){r=r.toLowerCase();var n=p(r);return n||r}function m(r){return r.replace(o.CARRIAGE_RETURN_REGEX,o.CARRIAGE_RETURN_PLACEHOLDER)}function y(r){return r.replace(o.CARRIAGE_RETURN_PLACEHOLDER_REGEX,o.CARRIAGE_RETURN)}function s(r,n,a){n===void 0&&(n=null);for(var h=[],b,O=0,P=r.length;O<P;O++){var _=r[O];switch(_.nodeType){case 1:{var T=f(_.nodeName);b=new t.Element(T,c(_.attributes)),b.children=s(T==="template"?_.content.childNodes:_.childNodes,b);break}case 3:b=new t.Text(y(_.nodeValue));break;case 8:b=new t.Comment(_.nodeValue);break;default:continue}var x=h[O-1]||null;x&&(x.next=b),b.parent=n,b.prev=x,b.next=null,h.push(b)}return a&&(b=new t.ProcessingInstruction(a.substring(0,a.indexOf(" ")).toLowerCase(),a),b.next=h[0]||null,b.parent=n,h.unshift(b),h[1]&&(h[1].prev=h[0])),h}return B}var pe;function Je(){if(pe)return ee;pe=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=_;var t=Pe(),o="html",p="head",c="body",f=/<([a-zA-Z]+[0-9]?)/,m=/<head[^]*>/i,y=/<body[^]*>/i,s=function(T,x){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},r=function(T,x){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},n=typeof window=="object"&&window.DOMParser;if(typeof n=="function"){var a=new n,h="text/html";r=function(T,x){return x&&(T="<".concat(x,">").concat(T,"</").concat(x,">")),a.parseFromString(T,h)},s=r}if(typeof document=="object"&&document.implementation){var b=document.implementation.createHTMLDocument();s=function(T,x){if(x){var C=b.documentElement.querySelector(x);return C&&(C.innerHTML=T),b}return b.documentElement.innerHTML=T,b}}var O=typeof document=="object"&&document.createElement("template"),P;O&&O.content&&(P=function(T){return O.innerHTML=T,O.content.childNodes});function _(T){var x,C;T=(0,t.escapeSpecialCharacters)(T);var I=T.match(f),D=I&&I[1]?I[1].toLowerCase():"";switch(D){case o:{var e=r(T);if(!m.test(T)){var i=e.querySelector(p);(x=i?.parentNode)===null||x===void 0||x.removeChild(i)}if(!y.test(T)){var i=e.querySelector(c);(C=i?.parentNode)===null||C===void 0||C.removeChild(i)}return e.querySelectorAll(o)}case p:case c:{var l=s(T).querySelectorAll(D);return y.test(T)&&m.test(T)?l[0].parentNode.childNodes:l}default:{if(P)return P(T);var i=s(T,c).querySelector(c);return i.childNodes}}}return ee}var ge;function Qe(){if(ge)return X;ge=1;var t=X&&X.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(X,"__esModule",{value:!0}),X.default=f;var o=t(Je()),p=Pe(),c=/<(![a-zA-Z\s]+)>/;function f(m){if(typeof m!="string")throw new TypeError("First argument must be a string");if(!m)return[];var y=m.match(c),s=y?y[1]:void 0;return(0,p.formatDOM)((0,o.default)(m),null,s)}return X}var te={},H={},Y={},me;function Ke(){if(me)return Y;me=1;var t=0;Y.SAME=t;var o=1;return Y.CAMELCASE=o,Y.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1},Y}var ve;function et(){if(ve)return H;ve=1;const t=0,o=1,p=2,c=3,f=4,m=5,y=6;function s(e){return n.hasOwnProperty(e)?n[e]:null}function r(e,i,l,u,v,R,M){this.acceptsBooleans=i===p||i===c||i===f,this.attributeName=u,this.attributeNamespace=v,this.mustUseProperty=l,this.propertyName=e,this.type=i,this.sanitizeURL=R,this.removeEmptyString=M}const n={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach(e=>{n[e]=new r(e,t,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([e,i])=>{n[e]=new r(e,o,!1,i,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(e=>{n[e]=new r(e,p,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(e=>{n[e]=new r(e,p,!1,e,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(e=>{n[e]=new r(e,c,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(e=>{n[e]=new r(e,c,!0,e,null,!1,!1)}),["capture","download"].forEach(e=>{n[e]=new r(e,f,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(e=>{n[e]=new r(e,y,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(e=>{n[e]=new r(e,m,!1,e.toLowerCase(),null,!1,!1)});const h=/[\-\:]([a-z])/g,b=e=>e[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(e=>{const i=e.replace(h,b);n[i]=new r(i,o,!1,e,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(e=>{const i=e.replace(h,b);n[i]=new r(i,o,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(e=>{const i=e.replace(h,b);n[i]=new r(i,o,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(e=>{n[e]=new r(e,o,!1,e.toLowerCase(),null,!1,!1)});const O="xlinkHref";n[O]=new r("xlinkHref",o,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(e=>{n[e]=new r(e,o,!1,e.toLowerCase(),null,!0,!0)});const{CAMELCASE:P,SAME:_,possibleStandardNames:T}=Ke(),C=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD"+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",I=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+C+"]*$")),D=Object.keys(T).reduce((e,i)=>{const l=T[i];return l===_?e[i]=i:l===P?e[i.toLowerCase()]=i:e[i]=l,e},{});return H.BOOLEAN=c,H.BOOLEANISH_STRING=p,H.NUMERIC=m,H.OVERLOADED_BOOLEAN=f,H.POSITIVE_NUMERIC=y,H.RESERVED=t,H.STRING=o,H.getPropertyInfo=s,H.isCustomAttribute=I,H.possibleStandardNames=D,H}var Z={},V={},ie,Ee;function tt(){if(Ee)return ie;Ee=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,o=/\n/g,p=/^\s*/,c=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,f=/^:\s*/,m=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,y=/^[;\s]*/,s=/^\s+|\s+$/g,r=`
`,n="/",a="*",h="",b="comment",O="declaration";ie=function(_,T){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];T=T||{};var x=1,C=1;function I(E){var g=E.match(o);g&&(x+=g.length);var w=E.lastIndexOf(r);C=~w?E.length-w:C+E.length}function D(){var E={line:x,column:C};return function(g){return g.position=new e(E),u(),g}}function e(E){this.start=E,this.end={line:x,column:C},this.source=T.source}e.prototype.content=_;function i(E){var g=new Error(T.source+":"+x+":"+C+": "+E);if(g.reason=E,g.filename=T.source,g.line=x,g.column=C,g.source=_,!T.silent)throw g}function l(E){var g=E.exec(_);if(g){var w=g[0];return I(w),_=_.slice(w.length),g}}function u(){l(p)}function v(E){var g;for(E=E||[];g=R();)g!==!1&&E.push(g);return E}function R(){var E=D();if(!(n!=_.charAt(0)||a!=_.charAt(1))){for(var g=2;h!=_.charAt(g)&&(a!=_.charAt(g)||n!=_.charAt(g+1));)++g;if(g+=2,h===_.charAt(g-1))return i("End of comment missing");var w=_.slice(2,g-2);return C+=2,I(w),_=_.slice(g),C+=2,E({type:b,comment:w})}}function M(){var E=D(),g=l(c);if(g){if(R(),!l(f))return i("property missing ':'");var w=l(m),k=E({type:O,property:P(g[0].replace(t,h)),value:w?P(w[0].replace(t,h)):h});return l(y),k}}function d(){var E=[];v(E);for(var g;g=M();)g!==!1&&(E.push(g),v(E));return E}return u(),d()};function P(_){return _?_.replace(s,h):h}return ie}var ye;function rt(){if(ye)return V;ye=1;var t=V&&V.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(V,"__esModule",{value:!0}),V.default=p;var o=t(tt());function p(c,f){var m=null;if(!c||typeof c!="string")return m;var y=(0,o.default)(c),s=typeof f=="function";return y.forEach(function(r){if(r.type==="declaration"){var n=r.property,a=r.value;s?f(n,a,r):a&&(m=m||{},m[n]=a)}}),m}return V}var J={},be;function nt(){if(be)return J;be=1,Object.defineProperty(J,"__esModule",{value:!0}),J.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,o=/-([a-z])/g,p=/^[^-]+$/,c=/^-(webkit|moz|ms|o|khtml)-/,f=/^-(ms)-/,m=function(n){return!n||p.test(n)||t.test(n)},y=function(n,a){return a.toUpperCase()},s=function(n,a){return"".concat(a,"-")},r=function(n,a){return a===void 0&&(a={}),m(n)?n:(n=n.toLowerCase(),a.reactCompat?n=n.replace(f,s):n=n.replace(c,s),n.replace(o,y))};return J.camelCase=r,J}var Q,Te;function it(){if(Te)return Q;Te=1;var t=Q&&Q.__importDefault||function(f){return f&&f.__esModule?f:{default:f}},o=t(rt()),p=nt();function c(f,m){var y={};return!f||typeof f!="string"||(0,o.default)(f,function(s,r){s&&r&&(y[(0,p.camelCase)(s,m)]=r)}),y}return c.default=c,Q=c,Q}var _e;function Ie(){return _e||(_e=1,function(t){var o=Z&&Z.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(t,"__esModule",{value:!0}),t.returnFirstArg=t.canTextBeChildOfNode=t.ELEMENTS_WITH_NO_TEXT_CHILDREN=t.PRESERVE_CUSTOM_ATTRIBUTES=void 0,t.isCustomComponent=m,t.setStyleProp=s;var p=Ae(),c=o(it()),f=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function m(a,h){return a.includes("-")?!f.has(a):!!(h&&typeof h.is=="string")}var y={reactCompat:!0};function s(a,h){if(typeof a=="string"){if(!a.trim()){h.style={};return}try{h.style=(0,c.default)(a,y)}catch{h.style={}}}}t.PRESERVE_CUSTOM_ATTRIBUTES=Number(p.version.split(".")[0])>=16,t.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var r=function(a){return!t.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(a.name)};t.canTextBeChildOfNode=r;var n=function(a){return a};t.returnFirstArg=n}(Z)),Z}var Ce;function Me(){if(Ce)return te;Ce=1,Object.defineProperty(te,"__esModule",{value:!0}),te.default=m;var t=et(),o=Ie(),p=["checked","value"],c=["input","select","textarea"],f={reset:!0,submit:!0};function m(s,r){s===void 0&&(s={});var n={},a=!!(s.type&&f[s.type]);for(var h in s){var b=s[h];if((0,t.isCustomAttribute)(h)){n[h]=b;continue}var O=h.toLowerCase(),P=y(O);if(P){var _=(0,t.getPropertyInfo)(P);switch(p.includes(P)&&c.includes(r)&&!a&&(P=y("default"+O)),n[P]=b,_&&_.type){case t.BOOLEAN:n[P]=!0;break;case t.OVERLOADED_BOOLEAN:b===""&&(n[P]=!0);break}continue}o.PRESERVE_CUSTOM_ATTRIBUTES&&(n[h]=b)}return(0,o.setStyleProp)(s.style,n),n}function y(s){return t.possibleStandardNames[s]}return te}var $={},Re;function at(){if(Re)return $;Re=1;var t=$&&$.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty($,"__esModule",{value:!0}),$.default=m;var o=Ae(),p=t(Me()),c=Ie(),f={cloneElement:o.cloneElement,createElement:o.createElement,isValidElement:o.isValidElement};function m(s,r){r===void 0&&(r={});for(var n=[],a=typeof r.replace=="function",h=r.transform||c.returnFirstArg,b=r.library||f,O=b.cloneElement,P=b.createElement,_=b.isValidElement,T=s.length,x=0;x<T;x++){var C=s[x];if(a){var I=r.replace(C,x);if(_(I)){T>1&&(I=O(I,{key:I.key||x})),n.push(h(I,C,x));continue}}if(C.type==="text"){var D=!C.data.trim().length;if(D&&C.parent&&!(0,c.canTextBeChildOfNode)(C.parent)||r.trim&&D)continue;n.push(h(C.data,C,x));continue}var e=C,i={};y(e)?((0,c.setStyleProp)(e.attribs.style,e.attribs),i=e.attribs):e.attribs&&(i=(0,p.default)(e.attribs,e.name));var l=void 0;switch(C.type){case"script":case"style":C.children[0]&&(i.dangerouslySetInnerHTML={__html:C.children[0].data});break;case"tag":C.name==="textarea"&&C.children[0]?i.defaultValue=C.children[0].data:C.children&&C.children.length&&(l=m(C.children,r));break;default:continue}T>1&&(i.key=x),n.push(h(P(C.name,i,l),C,x))}return n.length===1?n[0]:n}function y(s){return c.PRESERVE_CUSTOM_ATTRIBUTES&&s.type==="tag"&&(0,c.isCustomComponent)(s.name,s.attribs)}return $}var we;function ot(){return we||(we=1,function(t){var o=W&&W.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(t,"__esModule",{value:!0}),t.htmlToDOM=t.domToReact=t.attributesToProps=t.Text=t.ProcessingInstruction=t.Element=t.Comment=void 0,t.default=s;var p=o(Qe());t.htmlToDOM=p.default;var c=o(Me());t.attributesToProps=c.default;var f=o(at());t.domToReact=f.default;var m=Oe();Object.defineProperty(t,"Comment",{enumerable:!0,get:function(){return m.Comment}}),Object.defineProperty(t,"Element",{enumerable:!0,get:function(){return m.Element}}),Object.defineProperty(t,"ProcessingInstruction",{enumerable:!0,get:function(){return m.ProcessingInstruction}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return m.Text}});var y={lowerCaseAttributeNames:!1};function s(r,n){if(typeof r!="string")throw new TypeError("First argument must be a string");return r?(0,f.default)((0,p.default)(r,n?.htmlparser2||y),n):[]}}(W)),W}var De=ot();const xe=Ge(De),st=xe.default||xe,Se=t=>t&&t.replace(/\r\n/g,"<br>").replace(/\n/g,"<br>"),lt=t=>t&&(t.includes("<")?t.replace(/>([^<]*?)</g,(o,p)=>p.trim()?`>${Se(p)}<`:o):Se(t)),ct=({src:t,alt:o,style:p,className:c})=>{const f=N.useRef(null),m=N.useRef(null),y=N.useRef(null),[s,r]=N.useState(!1),[n,a]=N.useState(!1),[h,b]=N.useState(!1),[O,P]=N.useState("black");N.useEffect(()=>{const u=m.current,v=y.current;if(!u||!v)return;const R=u.getContext("2d");if(!R)return;const M=()=>{if(v&&u){const g=v.getBoundingClientRect(),w=window.devicePixelRatio||1,k=R.globalCompositeOperation,L=R.lineWidth,F=R.strokeStyle;u.width=g.width*w,u.height=g.height*w,u.style.width=`${g.width}px`,u.style.height=`${g.height}px`,R.setTransform(1,0,0,1,0,0),R.scale(w,w),R.globalCompositeOperation=k,R.lineWidth=L,R.strokeStyle=F,R.lineCap="round",R.lineJoin="round"}},d=()=>{M()};v.complete?d():v.addEventListener("load",d);const E=new ResizeObserver(()=>{M()});return v&&E.observe(v),()=>{v.removeEventListener("load",d),E.disconnect()}},[t]),N.useEffect(()=>{const u=m.current;if(!u)return;const v=u.getContext("2d");if(v)if(h)v.globalCompositeOperation="destination-out",v.lineWidth=20,v.lineCap="round",v.lineJoin="round";else{v.globalCompositeOperation="source-over";const R={black:"#000000",red:"#ff0000",yellow:"#ffeb3b"};v.strokeStyle=R[O],v.lineWidth=5,v.lineCap="round",v.lineJoin="round"}},[h,O]);const _=u=>{const v=m.current;if(!v)return{x:0,y:0};const R=v.getBoundingClientRect(),M="touches"in u?u.touches[0]?.clientX||0:u.clientX,d="touches"in u?u.touches[0]?.clientY||0:u.clientY;return{x:M-R.left-2,y:d-R.top-4}},T=u=>{u.preventDefault(),a(!0),r(!0);const v=m.current,R=v?.getContext("2d");if(!v||!R)return;const{x:M,y:d}=_(u);R.beginPath(),R.moveTo(M,d)},x=u=>{if(!s)return;u.preventDefault();const v=m.current,R=v?.getContext("2d");if(!v||!R)return;const{x:M,y:d}=_(u);R.lineTo(M,d),R.stroke()},C=u=>{u&&u.preventDefault(),r(!1)},I=()=>{a(!1),r(!1)},D=()=>{a(!0)},l=h?"url('data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%2224%22 height=%2224%22 viewBox=%220 0 24 24%22 fill=%22none%22 stroke=%22%23ff0000%22 stroke-width=%222%22><rect x=%223%22 y=%223%22 width=%2218%22 height=%2218%22 rx=%222%22/><path d=%22M8 8l8 8M16 8l-8 8%22/></svg>') 12 12, auto":"url('data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%2224%22 height=%2224%22 viewBox=%220 0 24 24%22 fill=%22none%22 stroke=%22%23000%22 stroke-width=%222%22><path d=%22M12 19l7-7 3 3-7 7-3-3z%22/><path d=%22M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z%22/><path d=%22M2 2l7.586 7.586%22/><path d=%22M11 11l2 2%22/></svg>') 12 6, auto";return A.jsxs("div",{className:"relative inline-block",children:[A.jsxs("div",{ref:f,className:"relative inline-block group",style:{cursor:n?l:"default"},onMouseEnter:D,onMouseLeave:I,children:[A.jsx("img",{ref:y,src:t,alt:o||"",style:p,className:c,draggable:!1}),A.jsx("canvas",{ref:m,className:"absolute top-0 left-0 pointer-events-auto",style:{cursor:n?l:"default"},onMouseDown:T,onMouseMove:x,onMouseUp:C,onMouseLeave:C,onTouchStart:T,onTouchMove:x,onTouchEnd:C})]}),A.jsxs("div",{className:"absolute top-0 right-0 -translate-y-full mb-2 flex items-center gap-2 bg-white/95 backdrop-blur-sm rounded-lg shadow-lg p-2 border border-gray-200",children:[!h&&A.jsxs("div",{className:"flex items-center gap-1.5",children:[A.jsx("button",{type:"button",onClick:u=>{u.preventDefault(),u.stopPropagation(),P("black")},className:`w-7 h-7 rounded-full border-2 transition-all hover:scale-110 ${O==="black"?"border-gray-900 scale-110 shadow-md ring-2 ring-gray-300":"border-gray-300 hover:border-gray-500"}`,style:{backgroundColor:"#000000"}}),A.jsx("button",{type:"button",onClick:u=>{u.preventDefault(),u.stopPropagation(),P("red")},className:`w-7 h-7 rounded-full border-2 transition-all hover:scale-110 ${O==="red"?"border-gray-900 scale-110 shadow-md ring-2 ring-red-200":"border-gray-300 hover:border-gray-500"}`,style:{backgroundColor:"#ff0000"}}),A.jsx("button",{type:"button",onClick:u=>{u.preventDefault(),u.stopPropagation(),P("yellow")},className:`w-7 h-7 rounded-full border-2 transition-all hover:scale-110 ${O==="yellow"?"border-gray-900 scale-110 shadow-md ring-2 ring-yellow-200":"border-gray-300 hover:border-gray-500"}`,style:{backgroundColor:"#ffeb3b"}})]}),A.jsx("button",{type:"button",onClick:u=>{u.preventDefault(),u.stopPropagation(),b(!h)},className:`p-2 rounded-md shadow-sm transition-all hover:scale-105 ${h?"bg-red-500 text-white hover:bg-red-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:h?A.jsx(We,{className:"w-4 h-4"}):A.jsx(ke,{className:"w-4 h-4"})})]})]})},vt=({htmlString:t,className:o="",enabledHighlight:p=!0,storageKey:c})=>{const f=N.useRef(null),[m,y]=N.useState(null),[s,r]=N.useState(null),[n,a]=N.useState(null),h=N.useRef(0),b=N.useRef(null),[O,P]=N.useState(t),_=N.useRef(!1),T=()=>Date.now().toString()+Math.random().toString(36).slice(2),x=d=>{if(!f.current)return[];const E=[],g=document.createTreeWalker(f.current,NodeFilter.SHOW_ELEMENT,{acceptNode(k){if(!(k instanceof HTMLElement))return NodeFilter.FILTER_REJECT;const L=window.getComputedStyle(k);return(L.display==="block"||L.display==="list-item"||L.display==="table"||["P","DIV","LI"].includes(k.tagName))&&d.intersectsNode(k)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}},!1);let w=g.nextNode();for(;w;)E.push(w),w=g.nextNode();return E},C=(d,E)=>{const g=d.extractContents(),w=document.createElement("span");w.className="highlight",w.dataset.highlightId=E,w.appendChild(g),d.insertNode(w),c&&f.current&&setTimeout(()=>{if(f.current)try{localStorage.setItem(`highlights_${c}`,f.current.innerHTML)}catch(k){console.warn("Failed to save highlights:",k)}},0)},I=()=>{if(!p||!m)return;const d=m.cloneRange(),E=T(),g=x(d);g.length===0?C(d,E):g.forEach(w=>{const k=document.createRange();let L=d.startContainer,F=d.startOffset,j=d.endContainer,z=d.endOffset;w.contains(L)||(L=w,F=0),w.contains(j)||(j=w,z=w.childNodes.length);try{k.setStart(L,F),k.setEnd(j,z),k.collapsed||C(k,E)}catch{}}),y(null),r(null),a(null)},D=N.useCallback(()=>{p&&(b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{const d=window.getSelection();if(d&&d.rangeCount>0&&f.current?.contains(d.anchorNode)){const E=d.getRangeAt(0),g=d.toString().trim();if(!E.collapsed&&g.length>0){const w=E.getBoundingClientRect();let k=E.commonAncestorContainer;k.nodeType===Node.TEXT_NODE&&(k=k.parentNode),k&&k.classList&&k.classList.contains("highlight")?(a(k),y(null)):(a(null),y(E)),r({x:w.left+window.scrollX+w.width/2,y:w.bottom+window.scrollY+10,width:0})}else y(null),a(null),r(null)}else y(null),a(null),r(null)},150))},[p]),e=N.useCallback(()=>{const d=Date.now();d-h.current<300||(h.current=d,D())},[D]),i=N.useCallback(()=>{D()},[D]);N.useEffect(()=>{if(!p)return;document.addEventListener("mouseup",e),document.addEventListener("dblclick",i);const d=E=>{f.current?.contains(E.target)||(a(null),r(null))};return document.body.addEventListener("click",d),()=>{document.removeEventListener("mouseup",e),document.removeEventListener("dblclick",i),document.body.removeEventListener("click",d),b.current&&clearTimeout(b.current)}},[e,i,p]);const l=d=>{d.stopPropagation();const E=d.currentTarget;a(E),y(null);const g=E.getBoundingClientRect();r({x:g.left+window.scrollX+g.width/2,y:g.bottom+window.scrollY+10,width:0})},u=()=>{if(p){if(n){const d=n,E=d.parentNode;if(E){for(;d.firstChild;)E.insertBefore(d.firstChild,d);E.removeChild(d)}}else if(m&&!n){const d=m.cloneRange();if(!f.current)return;const E=[],g=document.createTreeWalker(f.current,NodeFilter.SHOW_ELEMENT,{acceptNode(k){return k instanceof HTMLElement&&k.classList.contains("highlight")&&d.intersectsNode(k)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}},!1);let w=g.nextNode();for(;w;)E.push(w),w=g.nextNode();E.forEach(k=>{const L=k.parentNode;if(L){for(;k.firstChild;)L.insertBefore(k.firstChild,k);L.removeChild(k)}})}c&&f.current&&setTimeout(()=>{if(f.current)try{localStorage.setItem(`highlights_${c}`,f.current.innerHTML)}catch(d){console.warn("Failed to save highlights:",d)}},0),y(null),a(null),r(null)}};N.useEffect(()=>{P(t),_.current=!1},[t]),N.useEffect(()=>{if(c&&f.current&&!_.current)try{const d=localStorage.getItem(`highlights_${c}`);d?setTimeout(()=>{if(f.current){const E=document.createElement("div");E.innerHTML=d;const g=E.querySelectorAll(".highlight");g.length>0&&g.forEach(w=>{const k=w.getAttribute("data-highlight-id"),L=w.textContent;if(L&&f.current){const F=document.createTreeWalker(f.current,NodeFilter.SHOW_TEXT,null);let j;for(;j=F.nextNode();){const G=(j.textContent||"").indexOf(L);if(G!==-1&&j.parentElement&&!j.parentElement.classList.contains("highlight"))try{const U=document.createRange();U.setStart(j,G),U.setEnd(j,G+L.length);const K=document.createElement("span");K.className="highlight",K.dataset.highlightId=k||Date.now().toString();const Le=U.extractContents();K.appendChild(Le),U.insertNode(K);break}catch{}}}})}_.current=!0},150):_.current=!0}catch(d){console.warn("Failed to restore highlights:",d),_.current=!0}},[c,O]);const v=typeof O=="string"&&O.trim().length>0?O:t,R=lt(v),M=st(R,{replace:d=>{if(d.type==="tag"&&d.name==="span"&&d.attribs&&d.attribs.class&&d.attribs.class.includes("highlight"))return N.createElement("span",{...d.attribs,onClick:l,style:{cursor:"pointer"},key:d.attribs["data-highlight-id"]||void 0},d.children&&De.domToReact(d.children));if(d.type==="tag"&&d.name==="img"&&d.attribs){const{src:E,alt:g,style:w,className:k}=d.attribs;let L={};return w&&w.split(";").forEach(F=>{const[j,z]=F.split(":").map(G=>G.trim());if(j&&z){const G=j.replace(/-([a-z])/g,U=>U[1].toUpperCase());L[G]=z}}),A.jsx(ct,{src:E||"",alt:g||"",style:L,className:k||""},E||Math.random().toString())}}});return A.jsxs(A.Fragment,{children:[A.jsx("style",{children:`
        .highlight {
          background-color: #fde68a;
        }
      `}),A.jsx("div",{ref:f,className:`w-full text-sm text-[--foreground] ${o}
          [&_table]:w-full [&_table]:border-collapse
          [&_td]:border [&_td]:border-[--border] [&_td]:p-2
          [&_th]:border [&_th]:border-[--border] [&_th]:p-2
          [&_p]:mb-2 [&_p]:text-[--foreground]
          [&_h3]:text-lg [&_h3]:font-semibold [&_h3]:mb-2 [&_h3]:text-[--foreground]
          [&_strong]:font-bold [&_em]:italic select-text`,style:{userSelect:"text"},children:M}),p&&s&&(m||n)&&A.jsxs("div",{className:"absolute z-50 flex gap-2 rounded-lg border bg-muted p-2 shadow-lg -translate-x-1/2",style:{left:s.x,top:s.y},children:[!n&&A.jsxs(ae,{size:"sm",onClick:I,children:[A.jsx(Ye,{className:"mr-1 h-4 w-4"})," Highlight"]}),A.jsxs(ae,{size:"sm",variant:"destructive",onClick:u,disabled:!n&&!m,children:[A.jsx(ke,{className:"mr-1 h-4 w-4"})," Clear"]})]})]})},Et=(t,o,p,c=!0,f)=>{const[m,y]=N.useState(t),[s,r]=N.useState(!1),[n,a]=N.useState(""),h=N.useRef(null),b=N.useRef(null),O=N.useRef(!1),P=N.useRef(!1),_=()=>{b.current&&(clearInterval(b.current),b.current=null)};N.useEffect(()=>{t!==null?(h.current=Date.now()+t*1e3,y(t),O.current=!1):(h.current=null,y(null))},[t]),N.useEffect(()=>{if(t===null||s||!c&&!P.current)return;P.current=!0;const e=()=>{if(h.current===null)return;const i=Math.max(0,Math.round((h.current-Date.now())/1e3));y(i),i<=0&&!s&&!O.current&&(_(),O.current=!0,r(!0),Ue.error("The time limit has expired."),p(),f&&setTimeout(()=>{f()},100))};return e(),b.current=setInterval(e,1e3),()=>{(s||!P.current)&&_()}},[t,s,p,c]),N.useEffect(()=>{o.length>0&&!n&&a(`tab-${o[0].id}`)},[o,n]);const T=o.findIndex(e=>`tab-${e.id}`===n);return{timeLeft:m??0,formatTime:e=>`${Math.floor(e/60).toString().padStart(2,"0")}:${(e%60).toString().padStart(2,"0")}`,activeTab:n,setActiveTab:a,currentTabIndex:T,handlePrevious:()=>T>0&&a(`tab-${o[T-1].id}`),handleNext:()=>T<o.length-1&&a(`tab-${o[T+1].id}`),isTestFinished:s,finishTest:()=>{t!==null&&!s&&(_(),p(),r(!0))}}};export{gt as C,mt as F,vt as H,ct as I,De as l,st as p,Et as u};
